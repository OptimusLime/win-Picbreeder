function require(e,t,n){var r=require.resolve(e);if(null==r){n=n||e;t=t||"root";var i=new Error('Failed to require "'+n+'" from "'+t+'"');i.path=n;i.parent=t;i.require=true;throw i}var s=require.modules[r];if(!s._resolving&&!s.exports){var o={};o.exports={};o.client=o.component=true;s._resolving=true;s.call(this,o.exports,require.relative(r),o);delete s._resolving;s.exports=o.exports}return s.exports}require.modules={};require.aliases={};require.resolve=function(e){if(e.charAt(0)==="/")e=e.slice(1);var t=[e,e+".js",e+".json",e+"/index.js",e+"/index.json"];for(var n=0;n<t.length;n++){var e=t[n];if(require.modules.hasOwnProperty(e))return e;if(require.aliases.hasOwnProperty(e))return require.aliases[e]}};require.normalize=function(e,t){var n=[];if("."!=t.charAt(0))return t;e=e.split("/");t=t.split("/");for(var r=0;r<t.length;++r){if(".."==t[r]){e.pop()}else if("."!=t[r]&&""!=t[r]){n.push(t[r])}}return e.concat(n).join("/")};require.register=function(e,t){require.modules[e]=t};require.alias=function(e,t){if(!require.modules.hasOwnProperty(e)){throw new Error('Failed to alias "'+e+'", it does not exist')}require.aliases[t]=e};require.relative=function(e){function n(e,t){var n=e.length;while(n--){if(e[n]===t)return n}return-1}function r(t){var n=r.resolve(t);return require(n,e,t)}var t=require.normalize(e,"..");r.resolve=function(r){var i=r.charAt(0);if("/"==i)return r.slice(1);if("."==i)return require.normalize(t,r);var s=e.split("/");var o=n(s,"deps")+1;if(!o)o=0;r=s.slice(0,o+1).join("/")+"/deps/"+r;return r};r.exists=function(e){return require.modules.hasOwnProperty(r.resolve(e))};return r};require.register("optimuslime-win-iec/lib/win-iec.js",function(e,t,n){function r(e,t,n){var r=this;r.winFunction="evolution";r.genomeType=n.genomeType;if(!n.genomeType)throw new Error("win-IEC needs a genome type specified.");r.backEmit=e.getEmitter(r);r.log=e.getLogger(r);r.log.logLevel=n.logLevel||r.log.normal;r.selectedParents={};r.evolutionObjects={};r.parentCount=0;r.sessionObject={};r.requiredEvents=function(){return["generator:createArtifacts"]};r.eventCallbacks=function(){return{"evolution:selectParents":r.selectParents,"evolution:unselectParents":r.unselectParents,"evolution:getOrCreateOffspring":r.getOrCreateOffspring,"evolution:loadSeeds":r.loadSeeds}};r.loadSeeds=function(e,t){for(var n in e){r.evolutionObjects[n]=e[n]}if(t)t()};r.selectParents=function(e,t){if(typeof e=="string")e=[e];var n={};for(var i=0;i<e.length;i++){var s=e[i];var o=r.evolutionObjects[s];if(!o){t("Invalid parent selection: "+s);return}n[s]=o;r.selectedParents[s]=o;r.parentCount++}t(undefined,n)};r.unselectParents=function(e,t){if(typeof e=="string")e=[e];for(var n=0;n<e.length;n++){var i=e[n];if(r.selectedParents[i])r.parentCount--;delete r.selectedParents[i]}if(t)t()};r.callGenerator=function(e,t,n){var i=r.getOffspringParents();r.backEmit("generator:createArtifacts",r.genomeType,t.length,i,r.sessionObject,function(i,s){if(i){n(i);return}r.log("iec generated "+t.length+" individuals: ",s);var o=s.offspring;for(var u=0;u<o.length;u++){var a=t[u];r.evolutionObjects[a]=o[u];e[a]=o[u]}n(undefined,e)})};r.getOrCreateOffspring=function(e,t){if(r.parentCount==0){t("Cannot generate offspring without parents");return}var n=[];var i={};for(var s=0;s<e.length;s++){var o=e[s];var u=r.evolutionObjects[o];if(!u){n.push(o)}else{i[o]=u}}if(n.length){r.callGenerator(i,n,t)}else{t(undefined,i)}};r.getOffspringParents=function(){var e=[];for(var t in r.selectedParents)e.push(r.selectedParents[t]);return e};return r}n.exports=r});require.register("optimuslime-cppnjs/cppn.js",function(e,t,n){var r={};n.exports=r;r.cppn=t("./networks/cppn.js");r.addAdaptable=function(){t("./extras/adaptableAdditions.js")};r.addPureCPPN=function(){t("./extras/pureCPPNAdditions.js")};r.addGPUExtras=function(){r.addPureCPPN();t("./extras/gpuAdditions.js")};r.addGPUExtras();r.cppnNode=t("./networks/cppnNode.js");r.cppnConnection=t("./networks/cppnConnection.js");r.cppnActivationFunctions=t("./activationFunctions/cppnActivationFunctions.js");r.cppnActivationFactory=t("./activationFunctions/cppnActivationFactory.js");r.utilities=t("./utility/utilities.js");r.NodeType=t("./types/nodeType.js")});require.register("optimuslime-cppnjs/activationFunctions/cppnActivationFactory.js",function(e,t,n){var r=t("../utility/utilities.js");var i=t("./cppnActivationFunctions.js");var s={};n.exports=s;s.probabilities=[];s.functions=[];s.functionTable={};s.createActivationFunction=function(e){if(!i[e])throw new Error("Activation Function doesn't exist!");return new i[e]};s.getActivationFunction=function(e){var t=s.functionTable[e];if(!t){t=s.createActivationFunction(e);s.functionTable[e]=t}return t};s.setProbabilities=function(e){s.probabilities=[];s.functions=[];var t=0;for(var n in e){s.probabilities.push(e[n]);s.functions.push(s.getActivationFunction(n));t++}};s.defaultProbabilities=function(){var e={BipolarSigmoid:.25,Sine:.25,Gaussian:.25,Linear:.25};s.setProbabilities(e)};s.getRandomActivationFunction=function(){if(s.probabilities.length==0)s.defaultProbabilities();return s.functions[r.RouletteWheel.singleThrowArray(s.probabilities)]}});require.register("optimuslime-cppnjs/activationFunctions/cppnActivationFunctions.js",function(e,t,n){var r={};n.exports=r;r.ActivationFunction=function(e){var t=this;t.functionID=e.functionID;t.functionString=e.functionString;t.functionDescription=e.functionDescription;t.calculate=e.functionCalculate;t.enclose=e.functionEnclose};r.AddActivationFunction=function(e,t){r[e]=function(){return new r.ActivationFunction(t)}};r.AddActivationFunction("BipolarSigmoid",{functionID:"BipolarSigmoid",functionString:"2.0/(1.0 + exp(-4.9*inputSignal)) - 1.0",functionDescription:"bipolar steepend sigmoid",functionCalculate:function(e){return 2/(1+Math.exp(-4.9*e))-1},functionEnclose:function(e){return"((2.0 / (1.0 + Math.exp(-4.9 *("+e+")))) - 1.0)"}});r.AddActivationFunction("PlainSigmoid",{functionID:"PlainSigmoid",functionString:"1.0/(1.0+(exp(-inputSignal)))",functionDescription:"Plain sigmoid [xrange -5.0,5.0][yrange, 0.0,1.0]",functionCalculate:function(e){return 1/(1+Math.exp(-e))},functionEnclose:function(e){return"(1.0/(1.0+(Math.exp(-1.0*("+e+")))))"}});r.AddActivationFunction("Gaussian",{functionID:"Gaussian",functionString:"2*e^(-(input*2.5)^2) - 1",functionDescription:"bimodal gaussian",functionCalculate:function(e){return 2*Math.exp(-Math.pow(e*2.5,2))-1},functionEnclose:function(e){return"(2.0 * Math.exp(-Math.pow("+e+"* 2.5, 2.0)) - 1.0)"}});r.AddActivationFunction("Linear",{functionID:"Linear",functionString:"Math.abs(x)",functionDescription:"Linear",functionCalculate:function(e){return Math.abs(e)},functionEnclose:function(e){return"(Math.abs("+e+"))"}});r.AddActivationFunction("NullFn",{functionID:"NullFn",functionString:"0",functionDescription:"returns 0",functionCalculate:function(e){return 0},functionEnclose:function(e){return"(0.0)"}});r.AddActivationFunction("Sine2",{functionID:"Sine2",functionString:"Sin(2*inputSignal)",functionDescription:"Sine function with doubled period",functionCalculate:function(e){return Math.sin(2*e)},functionEnclose:function(e){return"(Math.sin(2.0*("+e+")))"}});r.AddActivationFunction("Sine",{functionID:"Sine",functionString:"Sin(inputSignal)",functionDescription:"Sine function with normal period",functionCalculate:function(e){return Math.sin(e)},functionEnclose:function(e){return"(Math.sin("+e+"))"}});r.AddActivationFunction("StepFunction",{functionID:"StepFunction",functionString:"x<=0 ? 0.0 : 1.0",functionDescription:"Step function [xrange -5.0,5.0][yrange, 0.0,1.0]",functionCalculate:function(e){if(e<=0)return 0;else return 1},functionEnclose:function(e){return"((("+e+") <= 0.0) ? 0.0 : 1.0)"}})});require.register("optimuslime-cppnjs/networks/cppnConnection.js",function(e,t,n){function r(e,t,n){var r=this;r.sourceIdx=e;r.targetIdx=t;r.weight=n;r.signal=0}n.exports=r});require.register("optimuslime-cppnjs/networks/cppnNode.js",function(e,t,n){function i(e,t,n){var i=this;i.neuronType=t;i.id=n;i.outputValue=i.neuronType==r.bias?1:0;i.activationFunction=e}var r=t("../types/nodeType");n.exports=i});require.register("optimuslime-cppnjs/networks/cppn.js",function(e,t,n){function i(e,t,n,r,i,s,o){var u=this;u.activationFunctions=o;u.connections=i;u.biasNeuronCount=e;u.inputNeuronCount=t;u.totalInputNeuronCount=u.biasNeuronCount+u.inputNeuronCount;u.outputNeuronCount=n;u.totalNeuronCount=r;u.neuronSignals=[];u.modSignals=[];u.neuronSignalsBeingProcessed=[];for(var a=0;a<r;a++){u.neuronSignals.push(a<u.biasNeuronCount?1:0);u.modSignals.push(0);u.neuronSignalsBeingProcessed.push(0)}u.biasList=s;u.activated=[];u.inActivation=[];u.lastActivation=[];u.adjacentList=[];u.reverseAdjacentList=[];u.adjacentMatrix=[];for(var a=0;a<r;a++){u.activated.push(false);u.inActivation.push(false);u.lastActivation.push(0);u.adjacentList.push([]);u.reverseAdjacentList.push([]);u.adjacentMatrix.push([]);for(var f=0;f<r;f++){u.adjacentMatrix[a].push(0)}}for(var a=0;a<u.connections.length;a++){var l=u.connections[a].sourceIdx;var c=u.connections[a].targetIdx;u.adjacentList[l].push(c);u.reverseAdjacentList[c].push(l);u.adjacentMatrix[l][c]=i[a].weight}}var r=t("../utility/utilities.js");n.exports=i;i.prototype.relaxNetwork=function(e,t){var n=this;var r=false;for(var i=0;i<e&&!r;i++){r=n.singleStepInternal(t)}return r};i.prototype.setInputSignal=function(e,t){var n=this;n.neuronSignals[n.biasNeuronCount+e]=t};i.prototype.setInputSignals=function(e){var t=this;for(var n=0;n<e.length;n++)t.neuronSignals[t.biasNeuronCount+n]=e[n]};i.prototype.getOutputSignal=function(e){return this.neuronSignals[this.totalInputNeuronCount+e]};i.prototype.clearSignals=function(){var e=this;for(var t=e.biasNeuronCount;t<e.neuronSignals.length;t++)e.neuronSignals[t]=0};i.prototype.recursiveActivation=function(){var e=this;for(var t=0;t<e.neuronSignals.length;t++){e.activated[t]=t<e.totalInputNeuronCount?true:false;e.inActivation[t]=false;if(t>=e.totalInputNeuronCount)e.lastActivation[t]=e.neuronSignals[t]}for(var t=0;t<e.outputNeuronCount;t++)e.recursiveActivateNode(e.totalInputNeuronCount+t)};i.prototype.recursiveActivateNode=function(e){var t=this;if(t.activated[e]){t.inActivation[e]=false;return}t.inActivation[e]=true;t.neuronSignalsBeingProcessed[e]=0;for(var n=0;n<t.reverseAdjacentList[e].length;n++){var r=t.reverseAdjacentList[e][n];if(t.inActivation[r]){t.neuronSignalsBeingProcessed[e]+=t.lastActivation[r]*t.adjacentMatrix[r][e]}else{if(!t.activated[r])t.recursiveActivateNode(r);t.neuronSignalsBeingProcessed[e]+=t.neuronSignals[r]*t.adjacentMatrix[r][e]}}t.activated[e]=true;t.inActivation[e]=false;t.neuronSignals[e]=t.activationFunctions[e].calculate(t.neuronSignalsBeingProcessed[e])};i.prototype.isRecursive=function(){var e=this;for(var t=0;t<e.connections.length;t++)if(e.connections[t].sourceIdx>=e.totalInputNeuronCount&&e.connections[t].targetIdx<e.totalInputNeuronCount||e.connections[t].sourceIdx==e.connections[t].targetIdx)return true;e.recursed=[];e.inRecursiveCheck=[];for(var n=0;n<e.neuronSignals.length;n++){e.recursed.push(n<e.totalInputNeuronCount?true:false);e.inRecursiveCheck.push(false)}for(var n=0;n<e.outputNeuronCount;n++){if(e.recursiveCheckRecursive(e.totalInputNeuronCount+n)){return true}}return false};i.prototype.recursiveCheckRecursive=function(e){var t=this;if(t.recursed[e]){t.inRecursiveCheck[e]=false;return false}t.inRecursiveCheck[e]=true;for(var n=0;n<t.reverseAdjacentList[e].length;n++){var r=t.reverseAdjacentList[e][n];if(t.inRecursiveCheck[r]){t.inRecursiveCheck[e]=false;return true}else{var i;if(!t.recursed[r])i=t.recursiveCheckRecursive(r);if(i)return true}}t.recursed[e]=true;t.inRecursiveCheck[e]=false;return false};(function(e,t,n){var r={CPPN:{}}})(typeof e==="undefined"?this["cppnjs"]["cppn"]={}:e,this,typeof e==="undefined"?true:false)});require.register("optimuslime-cppnjs/types/nodeType.js",function(e,t,n){var r={bias:"Bias",input:"Input",output:"Output",hidden:"Hidden",other:"Other"};n.exports=r});require.register("optimuslime-cppnjs/utility/utilities.js",function(e,t,n){var r={};n.exports=r;r.stringToFunction=function(e){var t=e.split(".");var n=window||this;for(var r=0,i=t.length;r<i;r++){n=n[t[r]]}if(typeof n!=="function"){throw new Error("function not found")}return n};r.nextDouble=function(){return Math.random()};r.next=function(e){return Math.floor(Math.random()*e)};r.tanh=function(e){return(Math.exp(e)-Math.exp(-e))/(Math.exp(e)+Math.exp(-e))};r.sign=function(e){if(e<0){return-1}if(e>0){return 1}return 0};r.RouletteWheel={};r.RouletteWheel.singleThrow=function(e){return r.nextDouble()<=e};r.RouletteWheel.singleThrowEven=function(e){var t=1/e;var n=0;var i=r.nextDouble();for(var s=0;s<e;s++){n+=t;if(i<=n)return s}throw"PeannutLib.Maths.SingleThrowEven() - invalid outcome."};r.RouletteWheel.singleThrowArray=function(e){if(typeof e==="number")throw new Error("Send Array to singleThrowArray!");var t=0;for(var n=0;n<e.length;n++)t+=e[n];var i=r.nextDouble()*t;var s=0;for(var o=0;o<e.length;o++){s+=e[o];if(i<=s)return o}throw"PeannutLib.Maths.singleThrowArray() - invalid outcome."};r.RouletteWheel.multipleThrows=function(e){var t=0;var n;for(var i=0;i<e.length;i++)t+=e[i];var s=Math.floor(t);var o=t-s;n=Math.floor(s);if(r.nextDouble()<=o)n++;var u=[];for(var a=0;a<n;a++)u.push(0);for(var i=0;i<n;i++){var f=r.nextDouble()*t;var l=0;for(var c=0;c<e.length;c++){l+=e[c];if(f<=l){u[i]=c;break}}}return u};r.RouletteWheel.selectXFromSmallObject=function(e,t){var n=[];var i=t.count===undefined?t.length:t.count;for(var s=0;s<i;s++)n.push(s);for(var s=0;s<i-e;s++){n.splice(r.next(n.length),1)}return n};r.RouletteWheel.selectXFromLargeObject=function(e,t){var n=[];var i={};var s=t.count===undefined?t.length:t.count;e=Math.min(e,s);for(var o=0;o<e;o++){var u=r.next(s);while(i[u])u=r.next(s);i[u]=true;n.push(u)}return n}});require.register("optimuslime-cppnjs/extras/adaptableAdditions.js",function(e,t,n){var r=t("../networks/cppnConnection.js");var i=r.prototype;i.a=0;i.b=0;i.c=0;i.d=0;i.modConnection=0;i.learningRate=0;var s=t("../networks/cppn");var o=s.prototype;o.a=0;o.b=0;o.c=0;o.d=0;o.learningRate=0;o.pre=0;o.post=0;o.adaptable=false;o.modulatory=false;o.singleStepInternal=function(e){var t=true;var n=this;for(var r=0;r<n.connections.length;r++){if(n.adaptable){if(n.connections[r].modConnection<=0){n.neuronSignalsBeingProcessed[n.connections[r].targetIdx]+=n.neuronSignals[n.connections[r].sourceIdx]*n.connections[r].weight}else{n.modSignals[n.connections[r].targetIdx]+=n.neuronSignals[n.connections[r].sourceIdx]*n.connections[r].weight}}else{n.neuronSignalsBeingProcessed[n.connections[r].targetIdx]+=n.neuronSignals[n.connections[r].sourceIdx]*n.connections[r].weight}}for(var r=n.totalInputNeuronCount;r<n.neuronSignalsBeingProcessed.length;r++){n.neuronSignalsBeingProcessed[r]=n.activationFunctions[r].calculate(n.neuronSignalsBeingProcessed[r]+n.biasList[r]);if(n.modulatory){n.modSignals[r]+=1;if(n.modSignals[r]!=0)n.modSignals[r]=utilities.tanh(n.modSignals[r])}}if(e>0){for(var r=n.totalInputNeuronCount;r<n.neuronSignalsBeingProcessed.length;r++){t&=Math.abs(n.neuronSignals[r]-n.neuronSignalsBeingProcessed[r])>e;n.neuronSignals[r]=n.neuronSignalsBeingProcessed[r];n.neuronSignalsBeingProcessed[r]=0}}else{for(var r=n.totalInputNeuronCount;r<n.neuronSignalsBeingProcessed.length;r++){n.neuronSignals[r]=n.neuronSignalsBeingProcessed[r];n.neuronSignalsBeingProcessed[r]=0}}if(n.adaptable){var i=[0,0,0,0];var s;var o;for(var r=0;r<n.connections.length;r++){if(n.modulatory){n.pre=n.neuronSignals[n.connections[r].sourceIdx];n.post=n.neuronSignals[n.connections[r].targetIdx];s=n.modSignals[n.connections[r].targetIdx];n.a=n.connections[r].a;n.b=n.connections[r].b;n.c=n.connections[r].c;n.d=n.connections[r].d;n.learningRate=n.connections[r].learningRate;if(s!=0&&n.connections[r].modConnection<=0){n.connections[r].weight+=s*n.learningRate*(n.a*n.pre*n.post+n.b*n.pre+n.c*n.post+n.d)}if(Math.abs(n.connections[r].weight)>5){n.connections[r].weight=5*Math.sign(n.connections[r].weight)}}else{n.pre=n.neuronSignals[n.connections[r].sourceIdx];n.post=n.neuronSignals[n.connections[r].targetIdx];n.a=n.connections[r].a;n.b=n.connections[r].b;n.c=n.connections[r].c;n.learningRate=n.connections[r].learningRate;o=n.learningRate*(n.a*n.pre*n.post+n.b*n.pre+n.c*n.post);connections[r].weight+=o;if(Math.abs(n.connections[r].weight)>5){n.connections[r].weight=5*Math.sign(n.connections[r].weight)}}}}for(var r=n.totalInputNeuronCount;r<n.neuronSignalsBeingProcessed.length;r++){n.modSignals[r]=0}return t};o.singleStep=function(e){var t=this;t.singleStepInternal(0);if(e){e(null)}};o.multipleSteps=function(e){var t=this;for(var n=0;n<e;n++){t.singleStep()}}});require.register("optimuslime-cppnjs/extras/pureCPPNAdditions.js",function(e,t,n){var r=t("../networks/cppn");n.exports=r;var i=r.prototype;i.createPureCPPNFunctions=function(){var e=this;e.nEnclosed=new Array(e.neuronSignals.length);e.bAlreadyEnclosed=new Array(e.neuronSignals.length);e.inEnclosure=new Array(e.neuronSignals.length);for(var t=0;t<e.nEnclosed.length;t++){e.bAlreadyEnclosed[t]=t<e.totalInputNeuronCount?true:false;e.nEnclosed[t]=t<e.totalInputNeuronCount?"x"+t:"";e.inEnclosure[t]=false}for(var t=0;t<e.outputNeuronCount;t++){e.nrEncloseNode(e.totalInputNeuronCount+t)}var n=e.recursiveCountThings();var r={};var i={};var s={};for(var t=e.totalInputNeuronCount;t<e.totalNeuronCount;t++){if(!e.bAlreadyEnclosed[t]){s[t]=true;continue}var o="return "+e.nEnclosed[t]+";";r[t]=new Function([],o);i[t]=o}var u=[];n.forEach(function(e){if(!s[e.node])u.push(e.node)});var a=function(e,t,n,r){return function(i){var s=1;var o={};o.rf=new Array(e.length);var u=i.length+n;for(var a=0;a<n;a++)o.rf[a]=s;for(var a=0;a<i.length;a++)o.rf[a+n]=i[a];for(var a=0;a<e.length;a++){var f=e[a];o.rf[f]=f<u?o.rf[f]:t[f].call(o)}return o.rf.slice(u,u+r)}};var f=a(u,r,e.biasNeuronCount,e.outputNeuronCount);return{contained:f,stringFunctions:i,arrayIdentifier:"this.rf",nodeOrder:u}};i.nrEncloseNode=function(e){var t=this;if(e<t.totalInputNeuronCount){t.inEnclosure[e]=false;t[e]="this.rf["+e+"]";return}if(t.bAlreadyEnclosed[e]){t.inEnclosure[e]=false;return}t.inEnclosure[e]=true;for(var n=0;n<t.reverseAdjacentList[e].length;n++){var r=t.reverseAdjacentList[e][n];if(t.inEnclosure[r]){throw new Error("Method not built for recurrent networks!")}else{if(!t.bAlreadyEnclosed[r])t.nrEncloseNode(r);var i=t.nEnclosed[e]==""?"(":"+";var s=t.adjacentMatrix[r][e];if(Math.round(s)===s)s=""+s+".0";else s=""+s;t.nEnclosed[e]+=i+s+"*"+"this.rf["+r+"]"}}if(t.nEnclosed[e]==="")t.nEnclosed[e]="0.0";else t.nEnclosed[e]+=")";t.bAlreadyEnclosed[e]=true;t.inEnclosure[e]=false;t.nEnclosed[e]=t.activationFunctions[e].enclose(t.nEnclosed[e])};i.recursiveCountThings=function(){var e=this;var t={};var n=function(t){var n=new Array(e.totalNeuronCount);var r=new Array(e.totalNeuronCount);var i=new Array(e.totalNeuronCount);for(var s=0;s<e.totalNeuronCount;s++){n[s]=false;r[s]=0;i[s]=0}var o=function(t){n[t]=true;var i={};for(var s=0;s<e.reverseAdjacentList[t].length;s++){var u=e.reverseAdjacentList[t][s];i[s]=r[u]<r[t]+1;r[u]=Math.max(r[u],r[t]+1)}for(var s=0;s<e.reverseAdjacentList[t].length;s++){var u=e.reverseAdjacentList[t][s];if(i[s])o(u)}n[t]=false};o(t);return r};var r=new Array(e.totalNeuronCount);for(var i=0;i<e.outputNeuronCount;i++){var s=n(e.totalInputNeuronCount+i);var o=[];for(var u=0;u<s.length;u++){if(r[u])r[u]={node:u,rank:Math.max(r[u].rank,s[u])};else r[u]={node:u,rank:s[u]};o.push({node:u,rank:s[u]})}o.sort(function(e,t){return t.rank-e.rank});t[e.totalInputNeuronCount+i]=o}r.sort(function(e,t){return t.rank-e.rank});return r}});require.register("optimuslime-cppnjs/extras/gpuAdditions.js",function(e,t,n){var r=t("../networks/cppn");var i=r.prototype;var s={};s.ShaderFragments={};s.ShaderFragments.passThroughVariables=["uniform float texelWidth;","uniform float texelHeight;"].join("\n");s.ShaderFragments.passThroughVS=[s.ShaderFragments.passThroughVariables,"varying vec2 passCoord;","void main() {","passCoord = uv;","gl_Position = vec4( position, 1.0 );","}","\n"].join("\n");s.ShaderFragments.passThroughVS3x3=[s.ShaderFragments.passThroughVariables,"varying vec2 sampleCoords[9];","void main()  {","gl_Position = vec4( position, 1.0 );","vec2 widthStep = vec2(texelWidth, 0.0);","vec2 heightStep = vec2(0.0, texelHeight);","vec2 widthHeightStep = vec2(texelWidth, texelHeight);","vec2 widthNegativeHeightStep = vec2(texelWidth, -texelHeight);","vec2 inputTextureCoordinate = uv;","sampleCoords[0] = inputTextureCoordinate.xy;","sampleCoords[1] = inputTextureCoordinate.xy - widthStep;","sampleCoords[2] = inputTextureCoordinate.xy + widthStep;","sampleCoords[3] = inputTextureCoordinate.xy - heightStep;","sampleCoords[4] = inputTextureCoordinate.xy - widthHeightStep;","sampleCoords[5] = inputTextureCoordinate.xy + widthNegativeHeightStep;","sampleCoords[6] = inputTextureCoordinate.xy + heightStep;","sampleCoords[7] = inputTextureCoordinate.xy - widthNegativeHeightStep;","sampleCoords[8] = inputTextureCoordinate.xy + widthHeightStep;","}","\n"].join("\n");s.ShaderFragments.variables=["varying vec2 passCoord; ","uniform sampler2D inputTexture; "].join("\n");s.ShaderFragments.variables3x3=["varying vec2 sampleCoords[9];","uniform sampler2D inputTexture; "].join("\n");i.fullShaderFromCPPN=function(e){var t=this;var n=t.createPureCPPNFunctions();var r=t.inputNeuronCount>=27;var i=t.totalNeuronCount;var o="";var u=n.nodeOrder[i-1];n.nodeOrder.forEach(function(e){o+=e+(e!==u?",":"")});var a=r?s.ShaderFragments.variables3x3:s.ShaderFragments.variables;var f="float register["+i+"];";var l="void f";var c="(){";var h="}";var p=n.arrayIdentifier;var d=n.stringFunctions;var v=[];for(var m in d){if(m<t.totalInputNeuronCount)continue;var g=l+m+c;v.push(g);var y="register["+m+"] = ";var b=d[m].replace(new RegExp(p,"g"),"register");b=b.replace(new RegExp("Math.","g"),"");b=b.replace(new RegExp("return ","g"),"");b=b.replace(new RegExp("\\+\\-","g"),"-");b=b.replace(new RegExp("\\-\\-","g"),"+");v.push(y+b);v.push(h)}var w=[];var E,S;if(t.outputNeuronCount==1){E="float";S=""}else{E="void";S=", out float["+t.outputNeuronCount+"] outputs"}E+=" activate(float["+t.inputNeuronCount+"] fnInputs"+S+"){";w.push(E);var x=t.biasNeuronCount;for(var T=0;T<x;T++){w.push("register["+T+"] = 1.0;")}for(var T=0;T<t.inputNeuronCount;T++){w.push("register["+(T+x)+"] = fnInputs["+T+"];")}n.nodeOrder.forEach(function(e){if(e>=t.totalInputNeuronCount)w.push("f"+e+"();")});var N;if(t.outputNeuronCount==1){N="return register["+t.totalInputNeuronCount+"];"}else{var C=[];for(var T=0;T<t.outputNeuronCount;T++)C.push("outputs["+T+"] = register["+(T+t.totalInputNeuronCount)+"];");N=C.join("\n")}w.push(N);w.push("}");var k=e(t);return{vertex:r?s.ShaderFragments.passThroughVS3x3:s.ShaderFragments.passThroughVS,fragment:[a,f].concat(v).concat(w).concat(k).join("\n")}}});require.register("optimuslime-neatjs/neat.js",function(e,t,n){var r={};n.exports=r;r.neatNode=t("./genome/neatNode.js");r.neatConnection=t("./genome/neatConnection.js");r.neatGenome=t("./genome/neatGenome.js");r.iec=t("./evolution/iec.js");r.multiobjective=t("./evolution/multiobjective.js");r.novelty=t("./evolution/novelty.js");r.neatDecoder=t("./neatHelp/neatDecoder.js");r.neatHelp=t("./neatHelp/neatHelp.js");r.neatParameters=t("./neatHelp/neatParameters.js");r.genomeSharpToJS=t("./utility/genomeSharpToJS.js");r.NodeType=t("./types/nodeType.js")});require.register("optimuslime-neatjs/evolution/iec.js",function(e,t,n){function o(e,t,n){var i=this;i.options=n||{};i.np=e;i.newNodes={};i.newConnections={};i.seeds=t;for(var o=0;o<t.length;o++){var u=t[o];for(var a=0;a<u.connections.length;a++){var f=u.connections[a];var l="("+f.sourceID+","+f.targetID+")";i.newConnections[l]=f}}i.cloneSeed=function(){var e=s.next(i.seeds.length);var t=r.Copy(i.seeds[e]);if(i.options.seedMutationCount){for(var n=0;n<i.options.seedMutationCount;n++)t.mutate(i.newNodes,i.newConnections,i.np)}return t};i.markParentConnections=function(e){for(var t=0;t<e.length;t++){var n=e[t];for(var r=0;r<n.connections.length;r++){var s=n.connections[r];var o="("+s.sourceID+","+s.targetID+")";i.newConnections[o]=s}}};i.createNextGenome=function(e){i.markParentConnections(e);var t;var n=i.options.initialMutationCount||0,r=i.options.postMutationCount||0;var o=[];switch(e.length){case 0:t=i.cloneSeed();for(var u=0;u<n;u++)t.mutate(i.newNodes,i.newConnections,i.np);break;case 1:t=e[0].createOffspringAsexual(i.newNodes,i.newConnections,i.np);o.push(0);for(var u=0;u<r;u++)t.mutate(i.newNodes,i.newConnections,i.np);break;default:var a=1+s.next(e.length);if(a==1){var f=s.next(e.length);t=e[f].createOffspringAsexual(i.newNodes,i.newConnections,i.np);o.push(f);break}var l=s.RouletteWheel.selectXFromSmallObject(a,e);var c=e[l[0]],h;o.push(l[0]);for(var p=1;p<l.length;p++){h=e[l[p]];t=c.createOffspringSexual(h,i.np);c=t;o.push(l[p])}for(var u=0;u<r;u++)t.mutate(i.newNodes,i.newConnections,i.np);break}return{offspring:t,parents:o}}}var r=t("../genome/neatGenome.js");var i=t("cppnjs");var s=i.utilities;n.exports=o;});require.register("optimuslime-neatjs/evolution/multiobjective.js",function(e,t,n){function u(e,t,n,i){var s=this;s.genomeEvaluationFunctions=t;s.generation=0;s.np=n;s.searchParameters=i;s.population=e;s.populationIDs=r.Help.CreateGIDLookup(e);s.multiobjective=new u.multiobjectiveUtilities(n);s.np.compatibilityThreshold=1e8;s.initializePopulation=function(){s.matchConnectionIDs();s.evaluatePopulation();s.updateFitnessStats()};s.matchConnectionIDs=function(){var e={};var t=s.population.length;for(var n=0;n<t;n++){var r=s.population[n];var i=r.connections.length;for(var o=0;o<i;o++){var u=r.connections[o];var a=u.sourceID+","+u.targetID;var f=e[a];if(f==null){e[a]=u.gid}else{u.gid=f}}r.connections.sort(function(e,t){return e.gid-t.gid})}};s.incrementAges=function(){for(var e=0;e<s.population.length;e++){var t=s.population[e];t.age++}};s.updateFitnessStats=function(){s.bestFitness=Number.MIN_VALUE;s.bestGenome=null;s.totalNeuronCount=0;s.totalConnectionCount=0;s.totalFitness=0;s.avgComplexity=0;s.meanFitness=0;for(var e=0;e<s.population.length;e++){var t=s.population[e];if(t.realFitness>s.bestFitness){s.bestFitness=t.realFitness;s.bestGenome=t}s.totalNeuronCount+=t.nodes.length;s.totalConnectionCount+=t.connections.length;s.totalFitness+=t.realFitness}s.avgComplexity=(s.totalNeuronCount+s.totalConnectionCount)/s.population.length;s.meanFitness=s.totalFitness/s.population.length};s.tournamentSelect=function(e){var t=0;var n=null;var r=e.length;for(var i=0;i<s.np.tournamentSize;i++){var u=e[o.next(r)];if(u.fitness>t){t=u.fitness;n=u}}return n};s.evaluatePopulation=function(){var e=s.genomeEvaluationFunctions.shouldEvaluateGenome||function(){return true};var t=s.genomeEvaluationFunctions.defaultFitness||1e-4;if(!s.genomeEvaluationFunctions.evaluateGenome)throw new Error("No evaluation function defined, how are you supposed to run evolution?");var n=s.genomeEvaluationFunctions.evaluateGenome;for(var r=0;r<s.population.length;r++){var i=s.population[r];var o=t;if(e(i)){o=n(i,s.np)}i.fitness=o;i.realFitness=o}};s.performOneGeneration=function(){var e=false;s.multiobjective.addPopulation(s.population);s.multiobjective.rankGenomes();s.multiobjective.truncatePopulation(s.population.length);s.updateFitnessStats();if(!e){s.createOffSpring();u.Help.SortPopulation(s.population);var t=Math.floor(s.np.elitismProportion*s.population.length);s.population.splice(t,s.population.length-t);var n=s.offspringList.length;for(var r=0;r<n;r++)s.population.push(s.offspringList[r])}s.evaluatePopulation();s.updateFitnessStats();s.incrementAges();s.generation++};s.createOffSpring=function(){s.offspringList=[];s.newConnectionTable=[];s.newNodeTable=[];s.createMultipleOffSpring_Asexual();s.createMultipleOffSpring_Sexual()};s.createMultipleOffSpring_Asexual=function(){var e=s.genomeEvaluationFunctions.isValidOffspring||function(){return true};var t=s.genomeEvaluationFunctions.validOffspringAttempts||5;var n=Math.floor(s.np.elitismProportion*s.population.length);var r=Math.max(1,Math.round((s.population.length-n)*s.np.pOffspringAsexual));for(var i=0;i<r;i++){var o=null;o=s.tournamentSelect(s.population);var u=o.createOffspringAsexual(s.newNodeTable,s.newConnectionTable,s.np);var a=0,f=t;while(!e(u,s.np)&&a++<f)u=o.createOffspringAsexual(s.newNodeTable,s.newConnectionTable,s.np);s.offspringList.push(u)}};s.createMultipleOffSpring_Sexual=function(){var e=s.genomeEvaluationFunctions.isValidOffspring||function(){return true};var t=s.genomeEvaluationFunctions.validOffspringAttempts||5;var n=false;var r=false;if(s.population.length==1){n=true}else if(s.population.length==2)r=true;var i=Math.floor(s.np.elitismProportion*s.population.length);var u=Math.round((s.population.length-i)*s.np.pOffspringSexual);for(var a=0;a<u;a++){var f;var l=null;var c;if(o.nextDouble()<s.np.pInterspeciesMating){if(n)f=s.population[0];else{f=s.tournamentSelect(s.population)}var h=0;do{l=s.tournamentSelect(s.population)}while(f==l&&h++<4)}else{if(n){c=s.population[0].createOffspringAsexual(s.newNodeTable,s.newConnectionTable,s.np);var p=0;var d=t;while(!e(c)&&p++<d)c=s.population[0].createOffspringAsexual(s.newNodeTable,s.newConnectionTable,s.np);s.offspringList.push(c);continue}if(r){c=s.population[0].createOffspringSexual(s.population[1],s.np);var p=0;var d=t;while(!e(c)&&p++<d)c=s.population[0].createOffspringSexual(s.population[1],s.np);s.offspringList.push(c);continue}f=s.tournamentSelect(s.population);var h=0;do{l=s.tournamentSelect(s.population)}while(f==l&&h++<4)}if(f!=l){c=f.createOffspringSexual(l,s.np);var p=0;var d=t;while(!e(c)&&p++<d)c=f.createOffspringSexual(l,s.np);s.offspringList.push(c)}else{c=f.createOffspringAsexual(s.newNodeTable,s.newConnectionTable,s.np);var p=0;var d=t;while(!e(c)&&p++<d)c=f.createOffspringAsexual(s.newNodeTable,s.newConnectionTable,s.np);s.offspringList.push(c)}}};s.initializePopulation()}var r=t("../genome/neatGenome.js");var i=t("./novelty.js");var s=t("cppnjs");var o=s.utilities;n.exports=u;u.RankInfo=function(){var e=this;e.dominationCount=0;e.dominates=[];e.rank=0;e.ranked=false};u.RankInfo.prototype.reset=function(){var e=this;e.rank=0;e.ranked=false;e.dominationCount=0;e.dominates=[]};u.Help={};u.Help.SortPopulation=function(e){e.sort(function(e,t){var n=t.fitness-e.fitness;if(n<0)return-1;else if(n>0)return 1;var r=e.age-t.age;if(r<0)return-1;else if(r>0)return 1;return 0})};u.multiobjectiveUtilities=function(e){var t=this;t.np=e;t.population=[];t.populationIDs={};t.ranks=[];t.nov=new i(10);t.doNovelty=false;t.generation=0;t.localCompetition=false;t.measureNovelty=function(){var e=t.population.length;t.nov.initialize(t.population);for(var n=0;n<e;n++){var r=t.population[n];r.locality=0;r.competition=0;for(var i=0;i<r.objectives.length;i++)r.localObjectivesCompetition[i]=0}var s;var o=0,u=1e11;for(var n=0;n<e;n++){s=t.population[n];var a=t.nov.measureNovelty(s);s.objectives[0]=s.competition/s.nearestNeighbors;s.objectives[s.objectives.length-2]=a+.01;var f=s.localObjectivesCompetition[s.objectives.length-1];console.log("Genomic Novelty: "+s.objectives[s.objectives.length-1]+" After: "+f/s.nearestNeighbors);s.objectives[s.objectives.length-1]=f/s.nearestNeighbors;if(a>o)o=a;if(a<u)u=a}console.log("nov min: "+u+" max:"+o)};t.updateDomination=function(e,n,r,i){if(t.dominates(e,n)){r.dominates.push(i);i.dominationCount++}};t.dominates=function(e,t){var n=false;var r=e.objectives,i=t.objectives;var s=r.length;for(var o=0;o<s-1;o++){if(r[o]<i[o])return false;if(r[o]>i[o])n=true}var u=0;if(r[s-1]+u<i[s-1])return false;if(r[s-1]>i[s-1]+u)n=true;return n};t.distance=function(e,t){var n=0;var r=e.length;for(var i=0;i<r;i++){var s=e[i]-t[i];n+=s*s}return n};t.printDistribution=function(){var e="dist"+t.generation+".txt";var n="";console.log("Print to file disabled for now, todo: write in save to file!")};t.calculateGenomicNovelty=function(){var n=0;var r=0;var i,s;for(var o=0;o<t.population.length;o++){i=t.population[o];var u=1e7;var a=0;var f=0;var l=[];if(i.connections.length>r)r=i.connections.length;for(var c=0;c<t.population.length;c++){s=t.population[c];if(o==c)continue;var h=i.compat(s,e);l.push(h)}l.Sort(function(e,t){return e-t});var p=Math.min(l.length,10);var d=0;for(var v=0;v<p;v++)d+=l[v];i.objectives[i.objectives.length-1]=d;n+=d}console.log("Diversity: "+n/population.length+" "+r)};t.addPopulation=function(e){for(var n=0;n<e.length;n++){var r=false;if(t.populationIDs[e[n].gid])r=true;if(!r){t.population.push(e[n]);t.populationIDs[e[n].gid]=e[n]}}};t.rankGenomes=function(){var e=t.population.length;t.calculateGenomicNovelty();if(t.doNovelty){t.measureNovelty()}for(var n=0;n<e;n++){if(t.ranks.length<n+1)t.ranks.push(new u.RankInfo);else t.ranks[n].reset()}for(var n=0;n<e;n++){for(var r=0;r<e;r++){t.updateDomination(t.population[n],t.population[r],t.ranks[n],t.ranks[r])}}var i=[];var s=0;var o=1;while(s<e){for(var n=0;n<e;n++){if(t.ranks[n].ranked)continue;if(t.ranks[n].dominationCount==0){i.push(n);t.ranks[n].ranked=true;t.ranks[n].rank=o}}var a=i.length;console.log("Front "+o+" size: "+a);for(var n=0;n<a;n++){var f=t.ranks[i[n]];for(var l in f.dominates){l.dominationCount--}}s+=a;i=[];o++}var c=t.population[0].objectives.length-1;for(var n=0;n<e;n++){t.population[n].fitness=e+1-t.ranks[n].rank}u.Help.SortPopulation(t.population);t.generation++;if(t.generation%250==0)t.printDistribution()};t.truncatePopulation=function(e){var n=t.population.length-e;console.log("population size before: "+t.population.length);console.log("removing "+n);if(n>0)t.population.splice(e,n);t.populationIDs=r.Help.CreateGIDLookup(t.population);console.log("population size after: "+t.population.length);return t.population}}});require.register("optimuslime-neatjs/evolution/novelty.js",function(e,t,n){function s(e){var t=this;t.nearestNeighbors=20;t.initialized=false;t.archiveThreshold=e;t.measureAgainst=[];t.archive=[];t.pendingAddition=[];t.maxDistSeen=Number.MIN_VALUE}var r=t("../genome/neatGenome.js");var i=t("cppnjs").utilities;n.exports=s;s.Behavior=function(){var e=this;e.behaviorList=null;e.objectives=null};s.Behavior.BehaviorCopy=function(e){var t=new novelty.Behavior;if(e.behaviorList){t.behaviorList=e.behaviorList.slice(0)}if(e.objectives){t.objectives=e.objectives.slice(0)}return t};s.Behavior.distance=function(e,t){var n=0;if(!e.behaviorList||!t.behaviorList)throw new Error("One of the behaviors is empty, can't compare distance!");for(var r=0;r<e.behaviorList.length;r++){var i=e.behaviorList[r]-t.behaviorList[r];n+=i*i}return n};s.prototype.addPending=function(){var e=this;var t=e.pendingAddition.length;if(t===0){e.archiveThreshold*=.95}if(t>5){e.archiveThreshold*=1.3}for(var n=0;n<t;n++){if(e.measureAgainstArchive(e.pendingAddition[n],false))e.archive.push(e.pendingAddition[n])}e.pendingAddition=[]};s.prototype.measureAgainstArchive=function(e,t){var n=this;for(var r in n.archive){var i=novelty.Behavior.distance(e.behavior,r.behavior);if(i>n.maxDistSeen){n.maxDistSeen=i;console.log("Most novel dist: "+n.maxDistSeen)}if(i<n.archiveThreshold)return false}if(t){n.pendingAddition.push(e)}return true};s.prototype.measureNovelty=function(e){var t=0;var n=this;if(!n.initialized)return Number.MIN_VALUE;var r=[];for(var i in n.measureAgainst){r.push({distance:novelty.Behavior.distance(i,e.behavior),genome:i})}for(var i in n.archive){r.push({distance:novelty.Behavior.distance(i,e.behavior),genome:i})}n.measureAgainstArchive(e,true);r.sort(function(e,t){return t.distance-e.distance});var s=n.nearestNeighbors;if(r.length<n.nearestNeighbors){s=r.length}e.nearestNeighbors=s;for(var o=0;o<s;o++){t+=r[o].distance;if(e.realFitness>r[o].genome.realFitness)e.competition+=1;for(var u=0;u<e.objectives.length;u++){if(e.objectives[u]>r[o].genome.objectives[u])e.localObjectivesCompetition[u]+=1}r[o].genome.locality+=1}return Math.max(t,1e-4)};s.prototype.add_most_novel=function(e){var t=this;var n=0;var r=null;for(var i=0;i<e.length;i++){if(e[i].fitness>n){r=e[i];n=e[i].fitness}}t.archive.push(r)};s.prototype.initialize=function(e){var t=this;t.initialized=true;t.measureAgainst=[];if(e!=null){for(var n=0;n<e.length;n++){t.measureAgainst.push(e[n])}}};s.prototype.update_measure=function(e){var t=this;var n=[];var n=e.slice(0).concat(t.measureAgainst.slice(0),t.archive.slice(0));t.mergeTogether(n,e.length);console.log("Size: "+t.measureAgainst.length)};s.prototype.mergeTogether=function(e,t){var n=this;console.log("total count: "+e.length);var s=[];var o=[];var u=[];for(var a=0;a<e.length;a++){o.push(false);u.push(Number.MAX_VALUE)}var f=i.next(e.length);o[f]=true;s.push(e[f]);while(s.length<t){var l=0;var c=0;for(var a=0;a<e.length;a++){if(o[a])continue;var h=novelty.Behavior.distance(e[a].behavior,e[f].behavior);if(h<u[a])u[a]=h;if(u[a]>l){l=u[a];c=a}}o[c]=true;s.push(r.Copy(e[c],0));f=c}n.measureAgainst=s};s.prototype.updatePopulationFitness=function(e){var t=this;for(var n=0;n<e.length;n++){t.measureAgainst[n].realFitness=e[n].realFitness}}});require.register("optimuslime-neatjs/genome/neatConnection.js",function(e,t,n){function r(e,t,n){var r=this;r.gid=typeof e==="number"?""+e:e;r.weight=typeof t==="string"?parseFloat(t):t;r.sourceID=typeof n.sourceID==="number"?""+n.sourceID:n.sourceID;r.targetID=typeof n.targetID==="number"?""+n.targetID:n.targetID;r.a=0;r.b=0;r.c=0;r.d=0;r.modConnection=0;r.learningRate=0;r.isMutated=false}n.exports=r;r.Copy=function(e){return new r(e.gid,e.weight,{sourceID:e.sourceID,targetID:e.targetID})}});require.register("optimuslime-neatjs/genome/neatNode.js",function(e,t,n){function r(e,t,n,r){var i=this;i.gid=typeof e==="number"?""+e:e;i.activationFunction=t.functionID||t;i.nodeType=r.type;i.layer=typeof n==="string"?parseFloat(n):n;i.step=0;i.bias=0}n.exports=r;r.INPUT_LAYER=0;r.OUTPUT_LAYER=10;r.Copy=function(e){return new r(e.gid,e.activationFunction,e.layer,{type:e.nodeType})}});require.register("optimuslime-neatjs/genome/neatGenome.js",function(e,t,n){function v(e,t,n,r,i,s){var u=this;u.gid=e;u.fitness=0;u.nodes=t;u.connections=n;u.mutations=[];u.debug=s;u.behavior=new o.Behavior;u.realFitness=0;u.age=0;u.localObjectivesCompetition=[];u.meta={};u.inputNodeCount=r;u.inputAndBiasNodeCount=r+1;u.outputNodeCount=i;u.inputBiasOutputNodeCount=u.inputAndBiasNodeCount+u.outputNodeCount;u.inputBiasOutputNodeCountMinus2=u.inputBiasOutputNodeCount-2;u.networkAdaptable=false;u.networkModulatory=false;u.connectionLookup=null;u.nodeLookup=null;u.parent=null}var r=t("cppnjs");var i=r.cppnActivationFactory;var s=r.utilities;var o=t("../evolution/novelty.js");var u=t("./neatConnection.js");var a=t("./neatNode.js");var f=t("../neatHelp/neatHelp.js");var l=t("../neatHelp/neatParameters.js");var c=t("../neatHelp/neatDecoder.js");var h=t("win-utils");var p=h.cuid;var d=t("../types/nodeType.js");n.exports=v;v.Help={};var m=0;v.Help.nextGenomeID=function(){return m++};v.Help.currentGenomeID=function(){return m};v.Help.resetGenomeID=function(e){if(e===undefined){m=0;return}m=e};var g=0;var y=-1;var b=0;v.Help.nextInnovationID=function(e){if(e!==undefined)return""+e;return p()};v.Help.insertByInnovation=function(e,t){var n=t;var r=t.length-1;for(;r>-1;r--){if(p.isLessThan(n[r].gid,e.gid)){break}}t.splice(r+1,0,e)};v.Help.CreateGIDLookup=function(e){var t={};e.forEach(function(e){t[e.gid]=e});return t};v.Help.CreateGenomeByInnovation=function(e,t,n,r){r=r||{};var o=[],f=[],l=[],c=[];var h=i.getActivationFunction("NullFn");var p=0;var m=new a(v.Help.nextInnovationID(p++),h,a.INPUT_LAYER,{type:d.bias});o.push(m);l.push(m);h=i.getActivationFunction("NullFn");for(var g=0;g<e;g++){m=new a(v.Help.nextInnovationID(p++),h,a.INPUT_LAYER,{type:d.input});o.push(m);l.push(m)}h=i.getActivationFunction("BipolarSigmoid");for(var g=0;g<t;g++){m=new a(v.Help.nextInnovationID(p++),h,a.OUTPUT_LAYER,{type:d.output});f.push(m);l.push(m)}f.forEach(function(e){o.forEach(function(t){if(s.nextDouble()<n.connectionProportion){var i="("+t.gid+","+e.gid+")";var o=r[i]||v.Help.nextInnovationID();r[i]=o;c.push(new u(o,s.nextDouble()*n.connectionWeightRange-n.connectionWeightRange/2,{sourceID:t.gid,targetID:e.gid}))}})});return new v(v.Help.nextGenomeID(),l,c,e,t)};v.Copy=function(e,t){var n=[],r=[];e.nodes.forEach(function(e){n.push(a.Copy(e))});e.connections.forEach(function(e){r.push(u.Copy(e))});var i=new v(t!==undefined?t:e.gid,n,r,e.inputNodeCount,e.outputNodeCount,false);if(e.behavior&&(e.behavior.objectives||e.behavior.behaviorList))i.behavior=o.Behavior.BehaviorCopy(e.behavior);return i};v.prototype.createOffspringAsexual=function(e,t,n){var r=this;var i=v.Copy(r,v.Help.nextGenomeID());i.mutate(e,t,n);return i};v.Help.createOffspringSexual_AddGene=function(e,t,n,r){var i=n.gid;var s=t[i];if(s==null){t[i]=e.length;e.push(u.Copy(n))}else if(r){e[s].weight=n.weight}};v.Help.createOffspringSexual_ProcessCorrelationItem=function(e,t,n,r,i){switch(n.correlationType){case f.CorrelationType.disjointConnectionGene:case f.CorrelationType.excessConnectionGene:{if(r==1&&n.connection1!=null){v.Help.createOffspringSexual_AddGene(e,t,n.connection1,true);return}if(r==2&&n.connection2!=null){v.Help.createOffspringSexual_AddGene(e,t,n.connection2,true);return}if(i){if(n.connection1!=null){v.Help.createOffspringSexual_AddGene(e,t,n.connection1,false);return}if(n.connection2!=null){v.Help.createOffspringSexual_AddGene(e,t,n.connection2,false);return}}break};case f.CorrelationType.matchedConnectionGenes:{if(s.RouletteWheel.singleThrow(.5)){v.Help.createOffspringSexual_AddGene(e,t,n.connection1,true)}else{v.Help.createOffspringSexual_AddGene(e,t,n.connection2,true)}break}}};v.Help.correlateConnectionListsByInnovation=function(e,t){var n=new f.CorrelationResults;if(!e.length&&!t.length){return n}if(!e.length){n.correlationStatistics.excessConnectionCount=t.length;t.forEach(function(e){n.correlationList.push(new f.CorrelationItem(f.CorrelationType.excessConnectionGene,null,e))});return n}if(!t.length){n.correlationStatistics.excessConnectionCount=e.length;e.forEach(function(e){n.correlationList.push(new f.CorrelationItem(f.CorrelationType.excessConnectionGene,e,null))});return n}var r=0;var i=0;var s=e[r];var o=t[i];for(;;){if(p.isLessThan(o.gid,s.gid)){n.correlationList.push(new f.CorrelationItem(f.CorrelationType.disjointConnectionGene,null,o));n.correlationStatistics.disjointConnectionCount++;i++}else if(s.gid==o.gid){n.correlationList.push(new f.CorrelationItem(f.CorrelationType.matchedConnectionGenes,s,o));n.correlationStatistics.connectionWeightDelta+=Math.abs(s.weight-o.weight);n.correlationStatistics.matchingCount++;r++;i++}else{n.correlationList.push(new f.CorrelationItem(f.CorrelationType.disjointConnectionGene,s,null));n.correlationStatistics.disjointConnectionCount++;r++}if(r>=e.length){for(;i<t.length;i++){n.correlationList.push(new f.CorrelationItem(f.CorrelationType.excessConnectionGene,null,t[i]));n.correlationStatistics.excessConnectionCount++}return n}if(i>=t.length){for(;r<e.length;r++){n.correlationList.push(new f.CorrelationItem(f.CorrelationType.excessConnectionGene,e[r],null));n.correlationStatistics.excessConnectionCount++}return n}s=e[r];o=t[i]}};v.prototype.createOffspringSexual=function(e,t){var n=this;if(e==null||e===undefined)return null;var r=v.Help.correlateConnectionListsByInnovation(n.connections,e.connections);if(n.debug&&!r.performIntegrityCheckByInnovation())throw"CorrelationResults failed innovation integrity check.";var i={};var o=[];var u;if(n.fitness>e.fitness)u=1;else if(n.fitness<e.fitness)u=2;else{if(s.nextDouble()<.5)u=1;else u=2}var f=s.nextDouble()<t.pDisjointExcessGenesRecombined;r.correlationList.forEach(function(e){v.Help.createOffspringSexual_ProcessCorrelationItem(o,i,e,u,f)});var l=[];var c={};n.nodes.forEach(function(e){if(e.nodeType!=d.hidden){l.push(a.Copy(e));c[e.gid]=e}});var h=v.Help.CreateGIDLookup(n.nodes);var m=v.Help.CreateGIDLookup(e.nodes);o.forEach(function(e){var t;if(!c[e.sourceID]){t=h[e.sourceID];if(t)l.push(a.Copy(t));else{t=m[e.sourceID];if(!t)throw new Error("Connection references source node that does not exist in either parent: "+JSON.stringify(e));l.push(a.Copy(m[e.sourceID]))}c[e.sourceID]=t}if(!c[e.targetID]){t=h[e.targetID];if(t!=null)l.push(a.Copy(t));else{t=m[e.targetID];if(!t)throw new Error("Connection references target node that does not exist in either parent: "+JSON.stringify(e));l.push(a.Copy(m[e.targetID]))}c[e.targetID]=t}});l.sort(function(e,t){var n=p.isLessThan(e.gid,t.gid)?-1:e.gid==t.gid?0:1;return n});return new v(v.Help.nextGenomeID(),l,o,n.inputNodeCount,n.outputNodeCount,n.debug)};v.prototype.networkDecode=function(e){var t=this;return c.DecodeToFloatFastConcurrentNetwork(t,e)};v.prototype.clone=function(){var e=this;return v.Copy(e,v.Help.nextGenomeID())};v.prototype.compatFormer=function(e,t){var n=this;var r=n.connections;var i=e.connections;var s=0;var o=r.length;var u=i.length;if(o==0&&u==0){return 0}if(o==0){return i.length*t.compatibilityExcessCoeff}if(u==0){return o*t.compatibilityExcessCoeff}var a=0;var f=o-1;var l=u-1;var c=r[f];var h=i[l];for(;;){if(c.gid==h.gid){s=3;a+=Math.abs(c.weight-h.weight)*t.compatibilityWeightDeltaCoeff;f--;l--}else if(!p.isLessThan(h.gid,c.gid)){if(s==3){a+=t.compatibilityDisjointCoeff}else if(s==2){a+=t.compatibilityExcessCoeff}else if(s==1){s=3;a+=t.compatibilityDisjointCoeff}else{s=2;a+=t.compatibilityExcessCoeff}l--}else{if(s==3){a+=t.compatibilityDisjointCoeff}else if(s==1){a+=t.compatibilityExcessCoeff}else if(s==2){s=3;a+=t.compatibilityDisjointCoeff}else{s=1;a+=t.compatibilityExcessCoeff}f--}if(f<0){a+=(l+1)*t.compatibilityDisjointCoeff;return a}if(l<0){a+=(f+1)*t.compatibilityDisjointCoeff;return a}c=r[f];h=i[l]}};v.prototype.compat=function(e,t){var n=this;var r=n.connections;var i=e.connections;var s=0;var o=v.Help.correlateConnectionListsByInnovation(r,i);s+=o.correlationStatistics.excessConnectionCount*t.compatibilityExcessCoeff;s+=o.correlationStatistics.disjointConnectionCount*t.compatibilityDisjointCoeff;s+=o.correlationStatistics.connectionWeightDelta*t.compatibilityWeightDeltaCoeff;return s};v.prototype.isCompatibleWithGenome=function(e,t){var n=this;return n.compat(e,t)<t.compatibilityThreshold};v.Help.InOrderInnovation=function(e){var t=0;for(var n=0;n<e.length;n++){var r=e[n];if(p.isLessThan(r.gid,t))return false;t=r.gid}return true};v.prototype.performIntegrityCheck=function(){var e=this;return v.Help.InOrderInnovation(e.connections)};v.prototype.mutate=function(e,t,n){var r=this;var i=[];i.push(n.pMutateAddNode);i.push(n.pMutateAddConnection);i.push(n.pMutateDeleteConnection);i.push(n.pMutateDeleteSimpleNeuron);i.push(n.pMutateConnectionWeights);i.push(n.pMutateChangeActivations);var o=s.RouletteWheel.singleThrowArray(i);switch(o){case 0:r.mutate_AddNode(e);return 0;case 1:r.mutate_AddConnection(t,n);return 1;case 2:r.mutate_DeleteConnection();return 2;case 3:r.mutate_DeleteSimpleNeuronStructure(t,n);return 3;case 4:r.mutate_ConnectionWeights(n);return 4;case 5:r.mutate_ChangeActivation(n);return 5}};v.prototype.mutate_AddNode=function(e,t){var n=this;if(!n.connections.length)return null;var r=Math.floor(s.nextDouble()*n.connections.length);var o=t||n.connections[r];var f=e[o.gid];var l;var c;var h;var p;var m=v.Help.CreateGIDLookup(n.nodes);var g=0;var y=5;while(g++<y&&f&&m[f.node.gid]){r=Math.floor(s.nextDouble()*n.connections.length);o=t||n.connections[r];f=e[o.gid]}if(g==y&&f&&m[f.node.gid])return;if(!f){p=i.getRandomActivationFunction();var b=v.Help.nextInnovationID();l=new a(b,p,(m[o.sourceID].layer+m[o.targetID].layer)/2,{type:d.hidden});b=v.Help.nextInnovationID();c=new u(b,1,{sourceID:o.sourceID,targetID:l.gid});b=v.Help.nextInnovationID();h=new u(b,o.weight,{sourceID:l.gid,targetID:o.targetID});e[o.gid]={node:l,connection1:c,connection2:h}}else{p=i.getRandomActivationFunction();var w=f;l=a.Copy(w.node);l.nodeType=d.hidden;c=new u(w.connection1.gid,1,{sourceID:o.sourceID,targetID:l.gid});h=new u(w.connection2.gid,o.weight,{sourceID:l.gid,targetID:o.targetID})}n.nodes.push(l);v.Help.insertByInnovation(c,n.connections);v.Help.insertByInnovation(h,n.connections)};v.prototype.testForExistingConnectionInnovation=function(e,t){var n=this;for(var r=0;r<n.connections.length;r++){var i=n.connections[r];if(i.sourceID==e&&i.targetID==t){return i}}return null};v.prototype.mutate_ChangeActivation=function(e){var t=this;for(var n=0;n<t.nodes.length;n++){if(n<t.inputAndBiasNodeCount)continue;if(s.nextDouble()<e.pNodeMutateActivationRate){t.nodes[n].activationFunction=i.getRandomActivationFunction().functionID}}};v.prototype.mutate_AddConnection=function(e,t,n){n=n||{};var r=this;if(r.nodes.length>1){for(var i=0;i<5;i++){var o;var a;var f=[];r.nodes.forEach(function(e){if(e.activationFunction.functionID!=="ModuleInputNeuron")f.push(e)});if(f.length<1)return false;var l=[];r.nodes.forEach(function(e){if(e.nodeType!=d.bias&&e.nodeType!=d.input&&e.activationFunction.functionID!=="ModuleInputNeuron"&&e.activationFunction.functionID!=="ModuleOutputNeuron")l.push(e)});if(l.length<1)return false;var c=n.source||f[s.next(f.length)];var h=n.target||l[s.next(l.length)];var p=c.gid;var m=h.gid;if(t.disallowRecurrence&&h.layer<=c.layer)continue;if(!r.testForExistingConnectionInnovation(p,m)){var g="("+p+","+m+")";var y=e[g];var b;var w=v.Help.nextInnovationID();if(y==null){b=new u(w,s.nextDouble()*t.connectionWeightRange/4-t.connectionWeightRange/8,{sourceID:p,targetID:m});e[g]=b;r.connections.push(b)}else{b=new u(y.gid,s.nextDouble()*t.connectionWeightRange/4-t.connectionWeightRange/8,{sourceID:p,targetID:m});v.Help.insertByInnovation(b,r.connections)}return true}}}r.mutate_ConnectionWeights(t);return false};v.prototype.mutate_ConnectionWeights=function(e){var t=this;var n=[];e.connectionMutationParameterGroupList.forEach(function(e){n.push(e.activationProportion)});var r=e.connectionMutationParameterGroupList[s.RouletteWheel.singleThrowArray(n)];if(r.selectionType==l.ConnectionSelectionType.proportional){var i=false;var o=t.connections.length;t.connections.forEach(function(n){if(s.nextDouble()<r.proportion){t.mutateConnectionWeight(n,e,r);i=true}});if(!i&&o>0){t.mutateConnectionWeight(t.connections[s.next(o)],e,r)}}else{var o=t.connections.length;var u=Math.min(o,Math.max(1,r.quantity));if(u==0)return;for(var a=0;a<u;a++){var f=s.next(o);var c=t.connections[f];while(t.connections[f].isMutated){if(++f==o)f=0}t.mutateConnectionWeight(t.connections[f],e,r);t.connections[f].isMutated=true}t.connections.forEach(function(e){e.isMutated=false})}};v.prototype.mutateConnectionWeight=function(e,t,n){switch(n.perturbationType){case l.ConnectionPerturbationType.jiggleEven:{e.weight+=(s.nextDouble()*2-1)*n.perturbationFactor;e.weight=Math.max(e.weight,-t.connectionWeightRange/2);e.weight=Math.min(e.weight,t.connectionWeightRange/2);break};case l.ConnectionPerturbationType.reset:{e.weight=s.nextDouble()*t.connectionWeightRange-t.connectionWeightRange/2;break};default:{throw"Unexpected ConnectionPerturbationType"}}};v.prototype.isNeuronRedundant=function(e,t){var n=this;var r=e[t];if(r.nodeType!=d.hidden||r.activationFunction.functionID==="ModuleInputNeuron"||r.activationFunction.functionID==="ModuleOutputNeuron")return false;return!n.isNeuronConnected(t)};v.prototype.isNeuronConnected=function(e){var t=this;for(var n=0;n<t.connections.length;n++){var r=t.connections[n];if(r.sourceID==e)return true;if(r.targetID==e)return true}return false};v.prototype.mutate_DeleteConnection=function(e){var t=this;if(t.connections.length==0)return;t.nodeLookup=v.Help.CreateGIDLookup(t.nodes);var n=s.next(t.connections.length);if(e){for(var r=0;r<t.connections.length;r++){if(e.gid==t.connections[r].gid){n=r;break}}}var i=e||t.connections[n];t.connections.splice(n,1);var o=-1;var u=-1;t.nodes.forEach(function(e,t){if(e.sourceID==i.sourceID)o=t;if(e.targetID==i.targetID)u=t});if(t.isNeuronRedundant(t.nodeLookup,i.sourceID)){t.nodes.splice(o,1)}if(i.sourceID!=i.targetID){if(t.isNeuronRedundant(t.nodeLookup,i.targetID))t.nodes.splice(u,1)}};v.BuildNeuronConnectionLookupTable_NewConnection=function(e,t,n,r,i){var s=e[n];if(s==null){s={node:t[n],incoming:[],outgoing:[]};e[n]=s}s[i].push(r)};v.prototype.buildNeuronConnectionLookupTable=function(){var e=this;e.nodeLookup=v.Help.CreateGIDLookup(e.nodes);var t={};e.connections.forEach(function(n){v.BuildNeuronConnectionLookupTable_NewConnection(t,e.nodeLookup,n.targetID,n,"incoming");v.BuildNeuronConnectionLookupTable_NewConnection(t,e.nodeLookup,n.sourceID,n,"outgoing")});return t};v.prototype.mutate_DeleteSimpleNeuronStructure=function(e,t){var n=this;var r=n.buildNeuronConnectionLookupTable();var i=[];for(var o in r){var u=r[o];if(u.node.nodeType==d.hidden&&!(u.node.activationFunction.functionID=="ModuleInputNeuron")&&!(u.node.activationFunction.functionID=="ModuleOutputNeuron")){if(u.incoming.length<=1||u.outgoing.length<=1)i.push(u.node.gid)}}if(i.length==0){n.mutate_DeleteConnection();return false}var a=s.next(i.length);var f=i[a];n.removeSimpleNeuron(r,f,e,t);return true};v.prototype.removeSimpleNeuron=function(e,t,n,r){var i=this;var o=e[t];o.incoming.forEach(function(e){o.outgoing.forEach(function(t){if(!i.testForExistingConnectionInnovation(e.sourceID,t.targetID)){var o="("+e.sourceID+","+t.targetID+")";var a=n[o];var f;var l=v.Help.nextInnovationID();if(a==null){f=new u(l,s.nextDouble()*r.connectionWeightRange-r.connectionWeightRange/2,{sourceID:e.sourceID,targetID:t.targetID});n[o]=f;i.connections.push(f)}else{f=new u(a.gid,s.nextDouble()*r.connectionWeightRange-r.connectionWeightRange/2,{sourceID:e.sourceID,targetID:t.targetID});v.Help.insertByInnovation(f,i.connections)}}})});o.incoming.forEach(function(e,t){for(var n=0;n<i.connections.length;n++){if(i.connections[n].gid==e.gid){i.connections.splice(n,1);break}}});o.outgoing.forEach(function(e,n){if(e.targetID!=t){for(var r=0;r<i.connections.length;r++){if(i.connections[r].gid==e.gid){i.connections.splice(r,1);break}}}});for(var a=0;a<i.nodes.length;a++){if(i.nodes[a].gid==t){i.nodes.splice(a,1);break}}}});require.register("optimuslime-neatjs/neatHelp/neatDecoder.js",function(e,t,n){var r=t("cppnjs");var i=r.cppnActivationFactory;var s=r.cppn;var o=r.cppnConnection;var u=t("../types/nodeType.js");var a={};n.exports=a;a.DecodeToFloatFastConcurrentNetwork=function(e,t){var n=e.outputNodeCount;var r=e.nodes.length;var a=[];for(var f=0;f<r;f++)a.push(0);var l=[];for(var c=0;c<r;c++){l.push("")}var h=0;for(;h<r;h++){l[h]=i.getActivationFunction(e.nodes[h].activationFunction);if(e.nodes[h].nodeType!=u.bias)break}var p=h;var d=e.inputNodeCount;for(;h<r;h++){l[h]=i.getActivationFunction(e.nodes[h].activationFunction);a[h]=e.nodes[h].bias}var v=e.connections.length;var m=[];for(var c=0;c<v;c++){m.push(new o(0,0,0))}var g={};for(var c=0;c<r;c++)g[e.nodes[c].gid]=c;for(var y=0;y<v;y++){var b=e.connections[y];m[y].sourceIdx=g[b.sourceID];m[y].targetIdx=g[b.targetID];m[y].weight=b.weight;m[y].learningRate=b.learningRate;m[y].a=b.a;m[y].b=b.b;m[y].c=b.c}return new s(p,d,n,r,m,a,l)}});require.register("optimuslime-neatjs/neatHelp/neatHelp.js",function(e,t,n){var r=t("win-utils").cuid;var i={};n.exports=i;i.CorrelationType={matchedConnectionGenes:0,disjointConnectionGene:1,excessConnectionGene:2};i.CorrelationStatistics=function(){var e=this;e.matchingCount=0;e.disjointConnectionCount=0;e.excessConnectionCount=0;e.connectionWeightDelta=0};i.CorrelationItem=function(e,t,n){var r=this;r.correlationType=e;r.connection1=t;r.connection2=n};i.CorrelationResults=function(){var e=this;e.correlationStatistics=new i.CorrelationStatistics;e.correlationList=[]};i.CorrelationResults.prototype.performIntegrityCheckByInnovation=function(){var e="";var t=this;for(var n=0;n<t.correlationList.length;n++){var s=t.correlationList[n];switch(s.correlationType){case i.CorrelationType.disjointConnectionGene:case i.CorrelationType.excessConnectionGene:if(!s.connection1&&!s.connection2||s.connection1&&s.connection2){return false}if(s.connection1){if(r.isLessThan(s.connection1.gid,e)||s.connection1.gid==e)return false;e=s.connection1.gid}else{if(r.isLessThan(s.connection2.gid,e)||s.connection2.gid==e)return false;e=s.connection2.gid}break;case i.CorrelationType.matchedConnectionGenes:if(!s.connection1||!s.connection2)return false;if(s.connection1.gid!=s.connection2.gid||s.connection1.sourceID!=s.connection2.sourceID||s.connection1.targetID!=s.connection2.targetID)return false;if(r.isLessThan(s.connection1.gid,e)||s.connection1.gid==e)return false;e=s.connection1.gid;break}}return true}});require.register("optimuslime-neatjs/neatHelp/neatParameters.js",function(e,t,n){function M(){var e=this;e.histogramBins=[];e.archiveThreshold=3;e.tournamentSize=4;e.noveltySearch=false;e.noveltyHistogram=false;e.noveltyFixed=false;e.noveltyFloat=false;e.multiobjective=false;e.allowSelfConnections=false;e.populationSize=r;e.pInitialPopulationInterconnections=i;e.pOffspringAsexual=s;e.pOffspringSexual=o;e.pInterspeciesMating=u;e.pDisjointExcessGenesRecombined=a;e.pMutateConnectionWeights=f;e.pMutateAddNode=l;e.pMutateAddModule=c;e.pMutateAddConnection=h;e.pMutateDeleteConnection=d;e.pMutateDeleteSimpleNeuron=v;e.pMutateChangeActivations=p;e.pNodeMutateActivationRate=m;e.connectionMutationParameterGroupList=[];e.connectionMutationParameterGroupList.push(new M.ConnectionMutationParameterGroup(.125,M.ConnectionPerturbationType.jiggleEven,M.ConnectionSelectionType.proportional,.5,0,.05,0));e.connectionMutationParameterGroupList.push(new M.ConnectionMutationParameterGroup(.5,M.ConnectionPerturbationType.jiggleEven,M.ConnectionSelectionType.proportional,.1,0,.05,0));e.connectionMutationParameterGroupList.push(new M.ConnectionMutationParameterGroup(.125,M.ConnectionPerturbationType.jiggleEven,M.ConnectionSelectionType.fixedQuantity,0,1,.05,0));e.connectionMutationParameterGroupList.push(new M.ConnectionMutationParameterGroup(.125,M.ConnectionPerturbationType.reset,M.ConnectionSelectionType.proportional,.1,0,0,0));e.connectionMutationParameterGroupList.push(new M.ConnectionMutationParameterGroup(.125,M.ConnectionPerturbationType.reset,M.ConnectionSelectionType.fixedQuantity,0,1,0,0));e.compatibilityThreshold=g;e.compatibilityDisjointCoeff=y;e.compatibilityExcessCoeff=b;e.compatibilityWeightDeltaCoeff=w;e.elitismProportion=E;e.selectionProportion=S;e.targetSpeciesCountMin=x;e.targetSpeciesCountMax=T;e.pruningPhaseBeginComplexityThreshold=C;e.pruningPhaseBeginFitnessStagnationThreshold=k;e.pruningPhaseEndComplexityStagnationThreshold=L;e.speciesDropoffAge=N;e.connectionWeightRange=A;e.activationProbabilities=[];e.activationProbabilities.push(O);e.activationProbabilities.push(0);e.activationProbabilities.push(0);e.activationProbabilities.push(0)}n.exports=M;var r=150;var i=1;var s=.5;var o=.5;var u=.01;var a=.1;var f=.988;var l=.002;var c=0;var h=.018;var p=.001;var d=.001;var v=0;var m=.01;var g=8;var y=1;var b=1;var w=.05;var E=.2;var S=.2;var x=6;var T=10;var N=200;var C=50;var k=10;var L=15;var A=10;var O=1;M.ConnectionPerturbationType={reset:0,jiggleEven:1};M.ConnectionSelectionType={proportional:0,fixedQuantity:1};M.ConnectionMutationParameterGroup=function(e,t,n,r,i,s,o){var u=this;u.activationProportion=e;u.perturbationType=t;u.selectionType=n;u.proportion=r;u.quantity=i;u.perturbationFactor=s;u.sigma=o};M.ConnectionMutationParameterGroup.Copy=function(e){return new M.ConnectionMutationParameterGroup(e.ActivationProportion,e.PerturbationType,e.SelectionType,e.Proportion,e.Quantity,e.PerturbationFactor,e.Sigma)};M.Copy=function(e){var t=new M;t.noveltySearch=e.noveltySearch;t.noveltyHistogram=e.noveltyHistogram;t.noveltyFixed=e.noveltyFixed;t.noveltyFloat=e.noveltyFloat;t.histogramBins=e.histogramBins;t.allowSelfConnections=e.allowSelfConnections;t.populationSize=e.populationSize;t.pOffspringAsexual=e.pOffspringAsexual;t.pOffspringSexual=e.pOffspringSexual;t.pInterspeciesMating=e.pInterspeciesMating;t.pDisjointExcessGenesRecombined=e.pDisjointExcessGenesRecombined;t.pMutateConnectionWeights=e.pMutateConnectionWeights;t.pMutateAddNode=e.pMutateAddNode;t.pMutateAddModule=e.pMutateAddModule;t.pMutateAddConnection=e.pMutateAddConnection;t.pMutateDeleteConnection=e.pMutateDeleteConnection;t.pMutateDeleteSimpleNeuron=e.pMutateDeleteSimpleNeuron;t.connectionMutationParameterGroupList=[];e.connectionMutationParameterGroupList.forEach(function(e){t.connectionMutationParameterGroupList.push(M.ConnectionMutationParameterGroup.Copy(e))});t.compatibilityThreshold=e.compatibilityThreshold;t.compatibilityDisjointCoeff=e.compatibilityDisjointCoeff;t.compatibilityExcessCoeff=e.compatibilityExcessCoeff;t.compatibilityWeightDeltaCoeff=e.compatibilityWeightDeltaCoeff;t.elitismProportion=e.elitismProportion;t.selectionProportion=e.selectionProportion;t.targetSpeciesCountMin=e.targetSpeciesCountMin;t.targetSpeciesCountMax=e.targetSpeciesCountMax;t.pruningPhaseBeginComplexityThreshold=e.pruningPhaseBeginComplexityThreshold;t.pruningPhaseBeginFitnessStagnationThreshold=e.pruningPhaseBeginFitnessStagnationThreshold;t.pruningPhaseEndComplexityStagnationThreshold=e.pruningPhaseEndComplexityStagnationThreshold;t.speciesDropoffAge=e.speciesDropoffAge;t.connectionWeightRange=e.connectionWeightRange;return t}});require.register("optimuslime-neatjs/types/nodeType.js",function(e,t,n){var r={bias:"Bias",input:"Input",output:"Output",hidden:"Hidden",other:"Other"};n.exports=r});require.register("optimuslime-neatjs/utility/genomeSharpToJS.js",function(e,t,n){var r=t("../genome/neatGenome.js");var i=t("../genome/neatNode.js");var s=t("../genome/neatConnection.js");var o=t("../types/nodeType.js");var u={};n.exports=u;u.NeuronTypeToNodeType=function(e){switch(e){case"bias":return o.bias;case"in":return o.input;case"out":return o.output;case"hid":return o.hidden;default:throw new Error("inpropper C# neuron type detected")}};u.ConvertCSharpToJS=function(e){var t=e["neurons"]["neuron"]||e["neurons"];var n=e["connections"]["connection"]||e["connections"];var o=[],a=[];var f=0,l=0;for(var c=0;c<t.length;c++){var h=t[c];var p=new i(h.id,h.activationFunction,h.layer,{type:u.NeuronTypeToNodeType(h.type)});o.push(p);if(h.type=="in")f++;else if(h.type=="out")l++}for(var c=0;c<n.length;c++){var d=n[c];var v=new s(d["innov-id"],d.weight,{sourceID:d["src-id"],targetID:d["tgt-id"]});a.push(v)}var m=new r(e["id"],o,a,f,l);m.adaptable=e["adaptable"]=="True";m.modulated=e["modulated"]=="True";m.fitness=e["fitness"];m.realFitness=e["realfitness"];m.age=e["age"];return m}});require.register("optimuslime-win-neat/lib/neatSchema.js",function(e,t,n){n.exports={nodes:{type:"array",gid:"String",step:{type:"Number"},activationFunction:"String",nodeType:"String",layer:{type:"Number"},bias:{type:"Number"}},connections:{type:"array",gid:"String",sourceID:"String",targetID:"String",weight:"Number"}}});require.register("optimuslime-win-neat/lib/win-neat.js",function(e,t,n){function l(){var e=new r.neatParameters;e.pMutateAddConnection=.13;e.pMutateAddNode=.13;e.pMutateDeleteSimpleNeuron=0;e.pMutateDeleteConnection=0;e.pMutateConnectionWeights=.72;e.pMutateChangeActivations=.02;e.pNodeMutateActivationRate=.2;e.connectionWeightRange=3;e.disallowRecurrence=true;return e}function c(e,t){var n=[];var r=t.count===undefined?t.length:t.count;for(var i=0;i<r;i++)n.push(i);for(var i=0;i<r-e;i++){n.splice(f.next(n.length),1)}return n}function h(e,t,n){var r=this;r.winFunction="encoding";r.encodingName="NEATGenotype";r.log=e.getLogger(r);r.log.logLevel=n.logLevel||r.log.normal;r.neatParameters=n.neatParameters||l();r.options=n.options||{};r.eventCallbacks=function(){return{"encoding:NEATGenotype-createFullOffspring":function(e,t,n,i){n=n||{};var s=t.parents;var o=[];for(var u=0;u<s.length;u++){var a=d(s[u]);o.push(a)}var f=e.count;var l=[];var c=[];var h=n.forceParents;var v=function(e){var t={};var n=[];for(var r=0;r<e.length;r++){var i=e[r];t[r]=i;n.push(o[i])}return{parents:n,ixMap:t}};for(var m=0;m<f;m++){var g=o;var y;if(h){y=v(h[m]);g=y.parents}var b=r.createNextGenome(g,n);var w=p(b.offspring);c.push(w);var E=b.parentIxs;if(h){realIxs=[];for(var S=0;S<E.length;S++)realIxs.push(y.ixMap[E[S]]);E=realIxs}l.push(E)}i(undefined,c,l);return}}};r.markParentConnections=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];for(var i=0;i<r.connections.length;i++){var s=r.connections[i];var o="("+s.sourceID+","+s.targetID+")";t.newConnections[o]=s}}};r.createNextGenome=function(e,t){t.newConnections=t.newConnections||{};t.newNodes=t.newNodes||[];r.markParentConnections(e,t);var n;var i=r.options.initialMutationCount||0,s=r.options.postMutationCount||0;var o=r.options.moreThanTwoParents||.05;var u=[];switch(e.length){case 0:throw new Error("Cannot create new NEAT genome in win-NEAT without any parents.");case 1:n=e[0].createOffspringAsexual(t.newNodes,t.newConnections,r.neatParameters);u.push(0);for(var a=0;a<s;a++)n.mutate(t.newNodes,t.newConnections,r.neatParameters);break;default:var l=1;if(Math.random()>o){l=1+f.next(2)}else l=1+f.next(e.length);if(l==1){var h=f.next(e.length);n=e[h].createOffspringAsexual(t.newNodes,t.newConnections,r.neatParameters);u.push(h);break}var p=c(l,e);var d=e[p[0]],v;u.push(p[0]);for(var m=1;m<p.length;m++){v=e[p[m]];n=d.createOffspringSexual(v,r.neatParameters);d=n;u.push(p[m])}for(var a=0;a<s;a++)n.mutate(t.newNodes,t.newConnections,r.neatParameters);break}return{offspring:n,parentIxs:u}};r.requiredEvents=function(){return["schema:addSchema"]};r.initialize=function(t){r.log("Init win-neat encoding");var n=e.getEmitter(r);n.emit("schema:addSchema",r.encodingName,i,function(e){if(e){t(new Error(e));return}t()})};return r}function p(e){var t={nodes:e.nodes,connections:[]};for(var n=0;n<e.connections.length;n++){var r={};var s=e.connections[n];for(var o in i.connections){if(o!="type"){r[o]=s[o]}}t.connections.push(r)}return t}function d(e){var t=[];var n=0;var r=0;for(var i=0;i<e.nodes.length;i++){var f=e.nodes[i];switch(f.nodeType){case s.input:n++;break;case s.output:r++;break;case s.bias:case s.hidden:case s.other:break;default:throw new Error("Erroneous node type: "+f.nodeType+" in node: "+JSON.stringify(f))}var l=new o(f.gid,f.activationFunction,f.layer,{type:f.nodeType});t.push(l)}var c=[];for(var i=0;i<e.connections.length;i++){var h=e.connections[i];var p=new u(h.gid,h.weight,{sourceID:h.sourceID,targetID:h.targetID});c.push(p)}var d=new a(e.wid,t,c,n,r,false);d.wid=e.wid;d.parents=e.parents;return d}var r=t("neatjs");var i=t("./neatSchema.js");var s=r.NodeType;var o=r.neatNode;var u=r.neatConnection;var a=r.neatGenome;var f=t("win-utils").math;n.exports=h;h.genotypeToJSON=p;h.genotypeFromJSON=d});require.register("component-emitter/index.js",function(e,t,n){function r(e){if(e)return i(e)}function i(e){for(var t in r.prototype){e[t]=r.prototype[t]}return e}n.exports=r;r.prototype.on=r.prototype.addEventListener=function(e,t){this._callbacks=this._callbacks||{};(this._callbacks[e]=this._callbacks[e]||[]).push(t);return this};r.prototype.once=function(e,t){function r(){n.off(e,r);t.apply(this,arguments)}var n=this;this._callbacks=this._callbacks||{};r.fn=t;this.on(e,r);return this};r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(e,t){this._callbacks=this._callbacks||{};if(0==arguments.length){this._callbacks={};return this}var n=this._callbacks[e];if(!n)return this;if(1==arguments.length){delete this._callbacks[e];return this}var r;for(var i=0;i<n.length;i++){r=n[i];if(r===t||r.fn===t){n.splice(i,1);break}}return this};r.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks[e];if(n){n=n.slice(0);for(var r=0,i=n.length;r<i;++r){n[r].apply(this,t)}}return this};r.prototype.listeners=function(e){this._callbacks=this._callbacks||{};return this._callbacks[e]||[]};r.prototype.hasListeners=function(e){return!!this.listeners(e).length}});require.register("optimuslime-win-backbone/lib/win-backbone.js",function(e,t,n){function i(e){var n=this;r(n);var i=n.emit;var s=n.hasListeners;var o=[].shift;n.log=function(){throw new Error("Backbone doesn't use log directly anymore. Call backbone.getLogger(moduleObject) instead. ")};n.log.logLevel=function(){throw new Error("Backbone doesn't use log.loglevel anymore. Call backbone.logLevel directly instead. ")};var u=function(e){return!e?"":"    ["+e+"]: "};n.logLevel=1;n.warning=0;n.normal=1;n.verbose=2;n.testing=3;n.getLogger=function(e){var t=e.winFunction;var r=u(t);if(typeof process!="undefined"){r="[36m"+r+"[39m"}var i=function(){var e;if(typeof arguments[0]=="number"){e=[].shift.call(arguments)}else e=i.verbose;if(!e)throw new Error("Log category must be defined.");[].splice.call(arguments,0,0,r);if(e<=i.logLevel&&e<=n.logLevel)console.log.apply(console,arguments)};i.log=i;i.logLevel=n.logLevel;i.warning=n.warning;i.normal=n.normal;i.verbose=n.verbose;i.testing=n.testing;return i};var a=n.getLogger({});a.logLevel=a.testing;var f={};var l={};var c={};var h={};var p=function(e){var t=e.split(":");if(t.length<=1)throw new Error("Improper event name format, winFunction:eventName, instead looks like: "+e);return{winFunction:t[0],eventName:t[1]}};n.loadModules=function(r,i,s){var o;if(typeof s=="undefined"){i=i||{};o=i.global||{};s=i}else if(i&&s){o=i;s=s}else if(s){i=s;o=s.global||{}}else{i=i||{};o=allconfiguration.global||{};s=s||{}}var u=r;if(typeof r=="string"){var d=t("fs");var v=d.readFileSync(r);u=JSON.parse(v)}var m=0;for(var g in u){var y=u[g];if(typeof y=="object"||typeof y=="function"){h[g]=y}else if(y.indexOf("/")!=-1){h[g]=t(e+y)}else h[g]=t(y);if(typeof h[g]=="function")h[g]=new h[g](n,o,s[g]||{});m++}n.moduleCount=m;for(var g in h){var b=h[g].winFunction;if(!b||b==""||typeof b!="string"){a("Module does not implement winFunction properly-- must be non-empty string unlike: "+b);throw new Error("Improper win function")}if(!f[b]){f[b]={};l[b]={};c[b]={}}}for(var g in h){var w=h[g];if(!w.eventCallbacks){throw new Error("No callback function inside module: "+w.winFunction+" full module: "+w)}var E=w.eventCallbacks();for(var S in E){if(typeof S!="string"){throw new Error("Event callback keys must be strings: "+S)}var x=E[S];if(!x||typeof x!="function"){throw new Error("Event callback must be non-null function: "+x)}if(n.moduleHasListeners(S)){a("Backbone doesn't allow duplicate callbacks for the same event: "+S);throw new Error("Same event answered more than once: "+S)}n.off(S);n.on(S,x);var T=p(S);f[T.winFunction][T.eventName]=S}}for(var g in h){var w=h[g];var N=w.winFunction;if(!w.requiredEvents){throw new Error("Required events function not written in module: "+N)}var C=w.requiredEvents();if(!C){throw new Error("requiredEvents must return non-null array full of required events.")}for(var k=0;k<C.length;k++){if(!n.moduleHasListeners(C[k]))throw new Error("Missing a required listener: "+C[k]);var T=p(C[k]);var L=l[N];if(!L[T.winFunction]){L[T.winFunction]={}}if(!L[T.winFunction][T.eventName]){L[T.winFunction][T.eventName]=C[k]}}if(w.optionalEvents){var A=w.optionalEvents();for(var k=0;k<A.length;k++){var T=p(A[k]);var O=c[N];if(!O[T.winFunction]){O[T.winFunction]={}}if(!O[T.winFunction][T.eventName]){O[T.winFunction][T.eventName]=A[k]}}}}};n.getEmitter=function(e){if(!e.winFunction){throw new Error("Can't generate module call function for module that doesn't have a winFunction!")}var t=e.winFunction;var r=function(){[].splice.call(arguments,0,0,t);return n.moduleEmit.apply(n,arguments)};r.emit=r;r.hasListeners=function(){return n.moduleHasListeners.apply(n,arguments)};return r};n.moduleRequirements=function(){return JSON.parse(JSON.stringify(l))};n.registeredEvents=function(){return JSON.parse(JSON.stringify(f))};n.initializeModules=function(e){var t=n.moduleCount;var r;var i=function(n){if(n){if(!r)r=[];r.push(n)}t--;if(t==0){e(r)}};var s=function(e){return function(){e.initialize(function(e){i(e)})}};var o=false;for(var u in h){var a=h[u];if(!a.initialize)t--;else{o=true;setTimeout(s(a),0)}}if(!o){setTimeout(e,0)}};n.hasListeners=function(){throw new Error("Backbone doesn't pass listeners through itself any more, it uses the emitter.hasListeners. You must call backbone.getEmitter(moduleObject) to get an emitter.")};n.emit=function(){throw new Error("Backbone doesn't pass messages through emit any more. You must call backbone.getEmitter(moduleObject) -- passing the object.")};n.moduleHasListeners=function(){return s.apply(n,arguments)};n.moduleEmit=function(){if(arguments.length<2||typeof arguments[0]!="string"||typeof arguments[1]!="string"){throw new Error("Cannot emit with less than two arguments, each of which must be strings: "+JSON.stringify(arguments))}var e=o.apply(arguments);var t=p(arguments[0]);var r=t.winFunction;var s=t.eventName;a("["+e+"]","calling","["+t.winFunction+"]->"+s);if(!n.verifyEmit(e,r,s)){throw new Error("["+e+"] didn't require event ["+t.winFunction+"]->"+t.eventName)}i.apply(n,arguments)};n.verifyEmit=function(e,t,n){if((!l[e]||!l[e][t]||!l[e][t][n])&&(!c[e]||!c[e][t]||!c[e][t][n]))return false;return true};return n}var r=typeof process!="undefined"?t("component-emitter"):t("emitter");n.exports=i});require.register("optimuslime-traverse/index.js",function(e,t,n){function i(e){this.value=e}function s(e,t,n){var r=[];var i=[];var s=true;return function a(e){function p(){if(typeof h.node==="object"&&h.node!==null){if(!h.keys||h.node_!==h.node){h.keys=u(h.node)}h.isLeaf=h.keys.length==0;for(var t=0;t<i.length;t++){if(i[t].node_===e){h.circular=i[t];break}}}else{h.isLeaf=true;h.keys=null}h.notLeaf=!h.isLeaf;h.notRoot=!h.isRoot}var f=n?o(e):e;var l={};var c=true;var h={node:f,node_:e,path:[].concat(r),parent:i[i.length-1],parents:i,key:r.slice(-1)[0],isRoot:r.length===0,level:r.length,circular:null,update:function(e,t){if(!h.isRoot){h.parent.node[h.key]=e}h.node=e;if(t)c=false},"delete":function(e){delete h.parent.node[h.key];if(e)c=false},remove:function(e){if(v(h.parent.node)){h.parent.node.splice(h.key,1)}else{delete h.parent.node[h.key]}if(e)c=false},keys:null,before:function(e){l.before=e},after:function(e){l.after=e},pre:function(e){l.pre=e},post:function(e){l.post=e},stop:function(){s=false},block:function(){c=false}};if(!s)return h;p();var d=t.call(h,h.node);if(d!==undefined&&h.update)h.update(d);if(l.before)l.before.call(h,h.node);if(!c)return h;if(typeof h.node=="object"&&h.node!==null&&!h.circular){i.push(h);p();m(h.keys,function(e,t){r.push(e);if(l.pre)l.pre.call(h,h.node[e],e);var i=a(h.node[e]);if(n&&g.call(h.node,e)){h.node[e]=i.node}i.isLast=t==h.keys.length-1;i.isFirst=t==0;if(l.post)l.post.call(h,i);r.pop()});i.pop()}if(l.after)l.after.call(h,h.node);return h}(e).node}function o(e){if(typeof e==="object"&&e!==null){var t;if(v(e)){t=[]}else if(f(e)){t=new Date(e.getTime?e.getTime():e)}else if(l(e)){t=new RegExp(e)}else if(c(e)){t={message:e.message}}else if(h(e)){t=new Boolean(e)}else if(p(e)){t=new Number(e)}else if(d(e)){t=new String(e)}else if(Object.create&&Object.getPrototypeOf){t=Object.create(Object.getPrototypeOf(e))}else if(e.constructor===Object){t={}}else{var n=e.constructor&&e.constructor.prototype||e.__proto__||{};var r=function(){};r.prototype=n;t=new r}m(u(e),function(n){t[n]=e[n]});return t}else return e}function a(e){return Object.prototype.toString.call(e)}function f(e){return a(e)==="[object Date]"}function l(e){return a(e)==="[object RegExp]"}function c(e){return a(e)==="[object Error]"}function h(e){return a(e)==="[object Boolean]"}function p(e){return a(e)==="[object Number]"}function d(e){return a(e)==="[object String]"}var r=n.exports=function(e){return new i(e)};i.prototype.get=function(e){var t=this.value;for(var n=0;n<e.length;n++){var r=e[n];if(!t||!g.call(t,r)){t=undefined;break}t=t[r]}return t};i.prototype.has=function(e){var t=this.value;for(var n=0;n<e.length;n++){var r=e[n];if(!t||!g.call(t,r)){return false}t=t[r]}return true};i.prototype.set=function(e,t){var n=this.value;for(var r=0;r<e.length-1;r++){var i=e[r];if(!g.call(n,i))n[i]={};n=n[i]}n[e[r]]=t;return t};i.prototype.map=function(e){return s(this.value,e,true)};i.prototype.forEach=function(e){this.value=s(this.value,e,false);return this.value};i.prototype.reduce=function(e,t){var n=arguments.length===1;var r=n?this.value:t;this.forEach(function(t){if(!this.isRoot||!n){r=e.call(this,r,t)}});return r};i.prototype.paths=function(){var e=[];this.forEach(function(t){e.push(this.path)});return e};i.prototype.nodes=function(){var e=[];this.forEach(function(t){e.push(this.node)});return e};i.prototype.clone=function(){var e=[],t=[];return function n(r){for(var i=0;i<e.length;i++){if(e[i]===r){return t[i]}}if(typeof r==="object"&&r!==null){var s=o(r);e.push(r);t.push(s);m(u(r),function(e){s[e]=n(r[e])});e.pop();t.pop();return s}else{return r}}(this.value)};var u=Object.keys||function(t){var n=[];for(var r in t)n.push(r);return n};var v=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"};var m=function(e,t){if(e.forEach)return e.forEach(t);else for(var n=0;n<e.length;n++){t(e[n],n,e)}};m(u(i.prototype),function(e){r[e]=function(t){var n=[].slice.call(arguments,1);var r=new i(t);return r[e].apply(r,n)}});var g=Object.hasOwnProperty||function(e,t){return t in e}});require.register("geraintluff-tv4/lang/de.js",function(e,t,n){tv4.addLanguage("de",{INVALID_TYPE:"Ungültiger Typ: {type} (erwartet wurde: {expected})",ENUM_MISMATCH:"Keine Übereinstimmung mit der Aufzählung (enum) für: {value}",ANY_OF_MISSING:'Daten stimmen nicht überein mit einem der Schemas von "anyOf"',ONE_OF_MISSING:'Daten stimmen nicht überein mit einem der Schemas von "oneOf"',ONE_OF_MULTIPLE:'Daten sind valid in Bezug auf mehreren Schemas von "oneOf": index {index1} und {index2}',NOT_PASSED:'Daten stimmen mit dem "not" Schema überein',NUMBER_MULTIPLE_OF:"Wert {value} ist kein Vielfaches von {multipleOf}",NUMBER_MINIMUM:"Wert {value} ist kleiner als das Minimum {minimum}",NUMBER_MINIMUM_EXCLUSIVE:"Wert {value} ist gleich dem Exklusiven Minimum {minimum}",NUMBER_MAXIMUM:"Wert {value} ist größer als das Maximum {maximum}",NUMBER_MAXIMUM_EXCLUSIVE:"Wert {value} ist gleich dem Exklusiven Maximum {maximum}",STRING_LENGTH_SHORT:"Zeichenkette zu kurz ({length} chars), minimum {minimum}",STRING_LENGTH_LONG:"Zeichenkette zu lang ({length} chars), maximum {maximum}",STRING_PATTERN:"Zeichenkette entspricht nicht dem Muster: {pattern}",OBJECT_PROPERTIES_MINIMUM:"Zu wenige Attribute definiert ({propertyCount}), minimum {minimum}",OBJECT_PROPERTIES_MAXIMUM:"Zu viele Attribute definiert ({propertyCount}), maximum {maximum}",OBJECT_REQUIRED:"Notwendiges Attribut fehlt: {key}",OBJECT_ADDITIONAL_PROPERTIES:"Zusätzliche Attribute nicht erlaubt",OBJECT_DEPENDENCY_KEY:"Abhängigkeit fehlt - Schlüssel nicht vorhanden: {missing} (wegen Schlüssel: {key})",ARRAY_LENGTH_SHORT:"Array zu kurz ({length}), minimum {minimum}",ARRAY_LENGTH_LONG:"Array zu lang ({length}), maximum {maximum}",ARRAY_UNIQUE:"Array Einträge nicht eindeutig (Index {match1} und {match2})",ARRAY_ADDITIONAL_ITEMS:"Zusätzliche Einträge nicht erlaubt"})});require.register("geraintluff-tv4/tv4.js",function(e,t,n){(function(e){"use strict";function r(e,t){if(e===t){return true}if(typeof e==="object"&&typeof t==="object"){if(Array.isArray(e)!==Array.isArray(t)){return false}else if(Array.isArray(e)){if(e.length!==t.length){return false}for(var n=0;n<e.length;n++){if(!r(e[n],t[n])){return false}}}else{var i;for(i in e){if(t[i]===undefined&&e[i]!==undefined){return false}}for(i in t){if(e[i]===undefined&&t[i]!==undefined){return false}}for(i in e){if(!r(e[i],t[i])){return false}}}return true}return false}function i(e){var t=String(e).replace(/^\s+|\s+$/g,"").match(/^([^:\/?#]+:)?(\/\/(?:[^:@]*(?::[^:@]*)?@)?(([^:\/?#]*)(?::(\d*))?))?([^?#]*)(\?[^#]*)?(#[\s\S]*)?/);return t?{href:t[0]||"",protocol:t[1]||"",authority:t[2]||"",host:t[3]||"",hostname:t[4]||"",port:t[5]||"",pathname:t[6]||"",search:t[7]||"",hash:t[8]||""}:null}function s(e,t){function n(e){var t=[];e.replace(/^(\.\.?(\/|$))+/,"").replace(/\/(\.(\/|$))+/g,"/").replace(/\/\.\.$/,"/../").replace(/\/?[^\/]*/g,function(e){if(e==="/.."){t.pop()}else{t.push(e)}});return t.join("").replace(/^\//,e.charAt(0)==="/"?"/":"")}t=i(t||"");e=i(e||"");return!t||!e?null:(t.protocol||e.protocol)+(t.protocol||t.authority?t.authority:e.authority)+n(t.protocol||t.authority||t.pathname.charAt(0)==="/"?t.pathname:t.pathname?(e.authority&&!e.pathname?"/":"")+e.pathname.slice(0,e.pathname.lastIndexOf("/")+1)+t.pathname:e.pathname)+(t.protocol||t.authority||t.pathname?t.search:t.search||e.search)+t.hash}function o(e){return e.split("#")[0]}function u(e,t){if(e&&typeof e==="object"){if(t===undefined){t=e.id}else if(typeof e.id==="string"){t=s(t,e.id);e.id=t}if(Array.isArray(e)){for(var n=0;n<e.length;n++){u(e[n],t)}}else{if(typeof e["$ref"]==="string"){e["$ref"]=s(t,e["$ref"])}for(var r in e){if(r!=="enum"){u(e[r],t)}}}}}function h(e,t,n,r,i){Error.call(this);if(e===undefined){throw new Error("No code supplied for error: "+t)}this.message=t;this.code=e;this.dataPath=n||"";this.schemaPath=r||"";this.subErrors=i||null;var s=new Error(this.message);this.stack=s.stack||s.stacktrace;if(!this.stack){try{throw s}catch(s){this.stack=s.stack||s.stacktrace}}}function p(e,t){if(t.substring(0,e.length)===e){var n=t.substring(e.length);if(t.length>0&&t.charAt(e.length-1)==="/"||n.charAt(0)==="#"||n.charAt(0)==="?"){return true}}return false}function v(e){var n=new t;var r=e||"en";var i={addFormat:function(){n.addFormat.apply(n,arguments)},language:function(e){if(!e){return r}if(!d[e]){e=e.split("-")[0]}if(d[e]){r=e;return e}return false},addLanguage:function(e,t){var n;for(n in a){if(t[n]&&!t[a[n]]){t[a[n]]=t[n]}}var r=e.split("-")[0];if(!d[r]){d[e]=t;d[r]=t}else{d[e]=Object.create(d[r]);for(n in t){if(typeof d[r][n]==="undefined"){d[r][n]=t[n]}d[e][n]=t[n]}}return this},freshApi:function(e){var t=v();if(e){t.language(e)}return t},validate:function(e,i,s,o){var u=new t(n,false,d[r],s,o);if(typeof i==="string"){i={$ref:i}}u.addSchema("",i);var a=u.validateAll(e,i,null,null,"");if(!a&&o){a=u.banUnknownProperties()}this.error=a;this.missing=u.missing;this.valid=a===null;return this.valid},validateResult:function(){var e={};this.validate.apply(e,arguments);return e},validateMultiple:function(e,i,s,o){var u=new t(n,true,d[r],s,o);if(typeof i==="string"){i={$ref:i}}u.addSchema("",i);u.validateAll(e,i,null,null,"");if(o){u.banUnknownProperties()}var a={};a.errors=u.errors;a.missing=u.missing;a.valid=a.errors.length===0;return a},addSchema:function(){return n.addSchema.apply(n,arguments)},getSchema:function(){return n.getSchema.apply(n,arguments)},getSchemaMap:function(){return n.getSchemaMap.apply(n,arguments)},getSchemaUris:function(){return n.getSchemaUris.apply(n,arguments)},getMissingUris:function(){return n.getMissingUris.apply(n,arguments)},dropSchemas:function(){n.dropSchemas.apply(n,arguments)},defineKeyword:function(){n.defineKeyword.apply(n,arguments)},defineError:function(e,t,n){if(typeof e!=="string"||!/^[A-Z]+(_[A-Z]+)*$/.test(e)){throw new Error("Code name must be a string in UPPER_CASE_WITH_UNDERSCORES")}if(typeof t!=="number"||t%1!==0||t<1e4){throw new Error("Code number must be an integer > 10000")}if(typeof a[e]!=="undefined"){throw new Error("Error already defined: "+e+" as "+a[e])}if(typeof f[t]!=="undefined"){throw new Error("Error code already used: "+f[t]+" as "+t)}a[e]=t;f[t]=e;c[e]=c[t]=n;for(var r in d){var i=d[r];if(i[e]){i[t]=i[t]||i[e]}}},reset:function(){n.reset();this.error=null;this.missing=[];this.valid=true},missing:[],error:null,valid:true,normSchema:u,resolveUrl:s,getDocumentUri:o,errorCodes:a};return i}if(!Object.keys){Object.keys=function(){var e=Object.prototype.hasOwnProperty,t=!{toString:null}.propertyIsEnumerable("toString"),n=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],r=n.length;return function(i){if(typeof i!=="object"&&typeof i!=="function"||i===null){throw new TypeError("Object.keys called on non-object")}var s=[];for(var o in i){if(e.call(i,o)){s.push(o)}}if(t){for(var u=0;u<r;u++){if(e.call(i,n[u])){s.push(n[u])}}}return s}}()}if(!Object.create){Object.create=function(){function e(){}return function(t){if(arguments.length!==1){throw new Error("Object.create implementation only accepts one parameter.")}e.prototype=t;return new e}}()}if(!Array.isArray){Array.isArray=function(e){return Object.prototype.toString.call(e)==="[object Array]"}}if(!Array.prototype.indexOf){Array.prototype.indexOf=function(e){if(this===null){throw new TypeError}var t=Object(this);var n=t.length>>>0;if(n===0){return-1}var r=0;if(arguments.length>1){r=Number(arguments[1]);if(r!==r){r=0}else if(r!==0&&r!==Infinity&&r!==-Infinity){r=(r>0||-1)*Math.floor(Math.abs(r))}}if(r>=n){return-1}var i=r>=0?r:Math.max(n-Math.abs(r),0);for(;i<n;i++){if(i in t&&t[i]===e){return i}}return-1}}if(!Object.isFrozen){Object.isFrozen=function(e){var t="tv4_test_frozen_key";while(e.hasOwnProperty(t)){t+=Math.random()}try{e[t]=true;delete e[t];return false}catch(n){return true}}}var t=function(t,n,r,i,s){this.missing=[];this.missingMap={};this.formatValidators=t?Object.create(t.formatValidators):{};this.schemas=t?Object.create(t.schemas):{};this.collectMultiple=n;this.errors=[];this.handleError=n?this.collectError:this.returnError;if(i){this.checkRecursive=true;this.scanned=[];this.scannedFrozen=[];this.scannedFrozenSchemas=[];this.scannedFrozenValidationErrors=[];this.validatedSchemasKey="tv4_validation_id";this.validationErrorsKey="tv4_validation_errors_id"}if(s){this.trackUnknownProperties=true;this.knownPropertyPaths={};this.unknownPropertyPaths={}}this.errorMessages=r;this.definedKeywords={};if(t){for(var o in t.definedKeywords){this.definedKeywords[o]=t.definedKeywords[o].slice(0)}}};t.prototype.defineKeyword=function(e,t){this.definedKeywords[e]=this.definedKeywords[e]||[];this.definedKeywords[e].push(t)};t.prototype.createError=function(e,t,n,r,i){var s=this.errorMessages[e]||c[e];if(typeof s!=="string"){return new h(e,"Unknown error code "+e+": "+JSON.stringify(t),n,r,i)}var o=s.replace(/\{([^{}]*)\}/g,function(e,n){var r=t[n];return typeof r==="string"||typeof r==="number"?r:e});return new h(e,o,n,r,i)};t.prototype.returnError=function(e){return e};t.prototype.collectError=function(e){if(e){this.errors.push(e)}return null};t.prototype.prefixErrors=function(e,t,n){for(var r=e;r<this.errors.length;r++){this.errors[r]=this.errors[r].prefixWith(t,n)}return this};t.prototype.banUnknownProperties=function(){for(var e in this.unknownPropertyPaths){var t=this.createError(a.UNKNOWN_PROPERTY,{path:e},e,"");var n=this.handleError(t);if(n){return n}}return null};t.prototype.addFormat=function(e,t){if(typeof e==="object"){for(var n in e){this.addFormat(n,e[n])}return this}this.formatValidators[e]=t};t.prototype.resolveRefs=function(e,t){if(e["$ref"]!==undefined){t=t||{};if(t[e["$ref"]]){return this.createError(a.CIRCULAR_REFERENCE,{urls:Object.keys(t).join(", ")},"","")}t[e["$ref"]]=true;e=this.getSchema(e["$ref"],t)}return e};t.prototype.getSchema=function(e,t){var n;if(this.schemas[e]!==undefined){n=this.schemas[e];return this.resolveRefs(n,t)}var r=e;var i="";if(e.indexOf("#")!==-1){i=e.substring(e.indexOf("#")+1);r=e.substring(0,e.indexOf("#"))}if(typeof this.schemas[r]==="object"){n=this.schemas[r];var s=decodeURIComponent(i);if(s===""){return this.resolveRefs(n,t)}else if(s.charAt(0)!=="/"){return undefined}var o=s.split("/").slice(1);for(var u=0;u<o.length;u++){var a=o[u].replace(/~1/g,"/").replace(/~0/g,"~");if(n[a]===undefined){n=undefined;break}n=n[a]}if(n!==undefined){return this.resolveRefs(n,t)}}if(this.missing[r]===undefined){this.missing.push(r);this.missing[r]=r;this.missingMap[r]=r}};t.prototype.searchSchemas=function(e,t){if(e&&typeof e==="object"){if(typeof e.id==="string"){if(p(t,e.id)){if(this.schemas[e.id]===undefined){this.schemas[e.id]=e}}}for(var n in e){if(n!=="enum"){if(typeof e[n]==="object"){this.searchSchemas(e[n],t)}else if(n==="$ref"){var r=o(e[n]);if(r&&this.schemas[r]===undefined&&this.missingMap[r]===undefined){this.missingMap[r]=r}}}}}};t.prototype.addSchema=function(e,t){if(typeof e!=="string"||typeof t==="undefined"){if(typeof e==="object"&&typeof e.id==="string"){t=e;e=t.id}else{return}}if(e=o(e)+"#"){e=o(e)}this.schemas[e]=t;delete this.missingMap[e];u(t,e);this.searchSchemas(t,e)};t.prototype.getSchemaMap=function(){var e={};for(var t in this.schemas){e[t]=this.schemas[t]}return e};t.prototype.getSchemaUris=function(e){var t=[];for(var n in this.schemas){if(!e||e.test(n)){t.push(n)}}return t};t.prototype.getMissingUris=function(e){var t=[];for(var n in this.missingMap){if(!e||e.test(n)){t.push(n)}}return t};t.prototype.dropSchemas=function(){this.schemas={};this.reset()};t.prototype.reset=function(){this.missing=[];this.missingMap={};this.errors=[]};t.prototype.validateAll=function(e,t,n,r,i){var s;t=this.resolveRefs(t);if(!t){return null}else if(t instanceof h){this.errors.push(t);return t}var o=this.errors.length;var u,a=null,f=null;if(this.checkRecursive&&e&&typeof e==="object"){s=!this.scanned.length;if(e[this.validatedSchemasKey]){var l=e[this.validatedSchemasKey].indexOf(t);if(l!==-1){this.errors=this.errors.concat(e[this.validationErrorsKey][l]);return null}}if(Object.isFrozen(e)){u=this.scannedFrozen.indexOf(e);if(u!==-1){var c=this.scannedFrozenSchemas[u].indexOf(t);if(c!==-1){this.errors=this.errors.concat(this.scannedFrozenValidationErrors[u][c]);return null}}}this.scanned.push(e);if(Object.isFrozen(e)){if(u===-1){u=this.scannedFrozen.length;this.scannedFrozen.push(e);this.scannedFrozenSchemas.push([])}a=this.scannedFrozenSchemas[u].length;this.scannedFrozenSchemas[u][a]=t;this.scannedFrozenValidationErrors[u][a]=[]}else{if(!e[this.validatedSchemasKey]){try{Object.defineProperty(e,this.validatedSchemasKey,{value:[],configurable:true});Object.defineProperty(e,this.validationErrorsKey,{value:[],configurable:true})}catch(p){e[this.validatedSchemasKey]=[];e[this.validationErrorsKey]=[]}}f=e[this.validatedSchemasKey].length;e[this.validatedSchemasKey][f]=t;e[this.validationErrorsKey][f]=[]}}var d=this.errors.length;var v=this.validateBasic(e,t,i)||this.validateNumeric(e,t,i)||this.validateString(e,t,i)||this.validateArray(e,t,i)||this.validateObject(e,t,i)||this.validateCombinations(e,t,i)||this.validateFormat(e,t,i)||this.validateDefinedKeywords(e,t,i)||null;if(s){while(this.scanned.length){var m=this.scanned.pop();delete m[this.validatedSchemasKey]}this.scannedFrozen=[];this.scannedFrozenSchemas=[]}if(v||d!==this.errors.length){while(n&&n.length||r&&r.length){var g=n&&n.length?""+n.pop():null;var y=r&&r.length?""+r.pop():null;if(v){v=v.prefixWith(g,y)}this.prefixErrors(d,g,y)}}if(a!==null){this.scannedFrozenValidationErrors[u][a]=this.errors.slice(o)}else if(f!==null){e[this.validationErrorsKey][f]=this.errors.slice(o)}return this.handleError(v)};t.prototype.validateFormat=function(e,t){if(typeof t.format!=="string"||!this.formatValidators[t.format]){return null}var n=this.formatValidators[t.format].call(null,e,t);if(typeof n==="string"||typeof n==="number"){return this.createError(a.FORMAT_CUSTOM,{message:n}).prefixWith(null,"format")}else if(n&&typeof n==="object"){return this.createError(a.FORMAT_CUSTOM,{message:n.message||"?"},n.dataPath||null,n.schemaPath||"/format")}return null};t.prototype.validateDefinedKeywords=function(e,t){for(var n in this.definedKeywords){var r=this.definedKeywords[n];for(var i=0;i<r.length;i++){var s=r[i];var o=s(e,t[n],t);if(typeof o==="string"||typeof o==="number"){return this.createError(a.KEYWORD_CUSTOM,{key:n,message:o}).prefixWith(null,"format")}else if(o&&typeof o==="object"){var u=o.code||a.KEYWORD_CUSTOM;if(typeof u==="string"){if(!a[u]){throw new Error("Undefined error code (use defineError): "+u)}u=a[u]}var f=typeof o.message==="object"?o.message:{key:n,message:o.message||"?"};var l=o.schemaPath||"/"+n.replace(/~/g,"~0").replace(/\//g,"~1");return this.createError(u,f,o.dataPath||null,l)}}}return null};t.prototype.validateBasic=function(t,n,r){var i;if(i=this.validateType(t,n,r)){return i.prefixWith(null,"type")}if(i=this.validateEnum(t,n,r)){return i.prefixWith(null,"type")}return null};t.prototype.validateType=function(t,n){if(n.type===undefined){return null}var r=typeof t;if(t===null){r="null"}else if(Array.isArray(t)){r="array"}var i=n.type;if(typeof i!=="object"){i=[i]}for(var s=0;s<i.length;s++){var o=i[s];if(o===r||o==="integer"&&r==="number"&&t%1===0){return null}}return this.createError(a.INVALID_TYPE,{type:r,expected:i.join("/")})};t.prototype.validateEnum=function(t,n){if(n["enum"]===undefined){return null}for(var i=0;i<n["enum"].length;i++){var s=n["enum"][i];if(r(t,s)){return null}}return this.createError(a.ENUM_MISMATCH,{value:typeof JSON!=="undefined"?JSON.stringify(t):t})};t.prototype.validateNumeric=function(t,n,r){return this.validateMultipleOf(t,n,r)||this.validateMinMax(t,n,r)||null};t.prototype.validateMultipleOf=function(t,n){var r=n.multipleOf||n.divisibleBy;if(r===undefined){return null}if(typeof t==="number"){if(t%r!==0){return this.createError(a.NUMBER_MULTIPLE_OF,{value:t,multipleOf:r})}}return null};t.prototype.validateMinMax=function(t,n){if(typeof t!=="number"){return null}if(n.minimum!==undefined){if(t<n.minimum){return this.createError(a.NUMBER_MINIMUM,{value:t,minimum:n.minimum}).prefixWith(null,"minimum")}if(n.exclusiveMinimum&&t===n.minimum){return this.createError(a.NUMBER_MINIMUM_EXCLUSIVE,{value:t,minimum:n.minimum}).prefixWith(null,"exclusiveMinimum")}}if(n.maximum!==undefined){if(t>n.maximum){return this.createError(a.NUMBER_MAXIMUM,{value:t,maximum:n.maximum}).prefixWith(null,"maximum")}if(n.exclusiveMaximum&&t===n.maximum){return this.createError(a.NUMBER_MAXIMUM_EXCLUSIVE,{value:t,maximum:n.maximum}).prefixWith(null,"exclusiveMaximum")}}return null};t.prototype.validateString=function(t,n,r){return this.validateStringLength(t,n,r)||this.validateStringPattern(t,n,r)||null};t.prototype.validateStringLength=function(t,n){if(typeof t!=="string"){return null}if(n.minLength!==undefined){if(t.length<n.minLength){return this.createError(a.STRING_LENGTH_SHORT,{length:t.length,minimum:n.minLength}).prefixWith(null,"minLength")}}if(n.maxLength!==undefined){if(t.length>n.maxLength){return this.createError(a.STRING_LENGTH_LONG,{length:t.length,maximum:n.maxLength}).prefixWith(null,"maxLength")}}return null};t.prototype.validateStringPattern=function(t,n){if(typeof t!=="string"||n.pattern===undefined){return null}var r=new RegExp(n.pattern);if(!r.test(t)){return this.createError(a.STRING_PATTERN,{pattern:n.pattern}).prefixWith(null,"pattern")}return null};t.prototype.validateArray=function(t,n,r){if(!Array.isArray(t)){return null}return this.validateArrayLength(t,n,r)||this.validateArrayUniqueItems(t,n,r)||this.validateArrayItems(t,n,r)||null};t.prototype.validateArrayLength=function(t,n){var r;if(n.minItems!==undefined){if(t.length<n.minItems){r=this.createError(a.ARRAY_LENGTH_SHORT,{length:t.length,minimum:n.minItems}).prefixWith(null,"minItems");if(this.handleError(r)){return r}}}if(n.maxItems!==undefined){if(t.length>n.maxItems){r=this.createError(a.ARRAY_LENGTH_LONG,{length:t.length,maximum:n.maxItems}).prefixWith(null,"maxItems");if(this.handleError(r)){return r}}}return null};t.prototype.validateArrayUniqueItems=function(t,n){if(n.uniqueItems){for(var i=0;i<t.length;i++){for(var s=i+1;s<t.length;s++){if(r(t[i],t[s])){var o=this.createError(a.ARRAY_UNIQUE,{match1:i,match2:s}).prefixWith(null,"uniqueItems");if(this.handleError(o)){return o}}}}}return null};t.prototype.validateArrayItems=function(t,n,r){if(n.items===undefined){return null}var i,s;if(Array.isArray(n.items)){for(s=0;s<t.length;s++){if(s<n.items.length){if(i=this.validateAll(t[s],n.items[s],[s],["items",s],r+"/"+s)){return i}}else if(n.additionalItems!==undefined){if(typeof n.additionalItems==="boolean"){if(!n.additionalItems){i=this.createError(a.ARRAY_ADDITIONAL_ITEMS,{}).prefixWith(""+s,"additionalItems");if(this.handleError(i)){return i}}}else if(i=this.validateAll(t[s],n.additionalItems,[s],["additionalItems"],r+"/"+s)){return i}}}}else{for(s=0;s<t.length;s++){if(i=this.validateAll(t[s],n.items,[s],["items"],r+"/"+s)){return i}}}return null};t.prototype.validateObject=function(t,n,r){if(typeof t!=="object"||t===null||Array.isArray(t)){return null}return this.validateObjectMinMaxProperties(t,n,r)||this.validateObjectRequiredProperties(t,n,r)||this.validateObjectProperties(t,n,r)||this.validateObjectDependencies(t,n,r)||null};t.prototype.validateObjectMinMaxProperties=function(t,n){var r=Object.keys(t);var i;if(n.minProperties!==undefined){if(r.length<n.minProperties){i=this.createError(a.OBJECT_PROPERTIES_MINIMUM,{propertyCount:r.length,minimum:n.minProperties}).prefixWith(null,"minProperties");if(this.handleError(i)){return i}}}if(n.maxProperties!==undefined){if(r.length>n.maxProperties){i=this.createError(a.OBJECT_PROPERTIES_MAXIMUM,{propertyCount:r.length,maximum:n.maxProperties}).prefixWith(null,"maxProperties");if(this.handleError(i)){return i}}}return null};t.prototype.validateObjectRequiredProperties=function(t,n){if(n.required!==undefined){for(var r=0;r<n.required.length;r++){var i=n.required[r];if(t[i]===undefined){var s=this.createError(a.OBJECT_REQUIRED,{key:i}).prefixWith(null,""+r).prefixWith(null,"required");if(this.handleError(s)){return s}}}}return null};t.prototype.validateObjectProperties=function(t,n,r){var i;for(var s in t){var o=r+"/"+s.replace(/~/g,"~0").replace(/\//g,"~1");var u=false;if(n.properties!==undefined&&n.properties[s]!==undefined){u=true;if(i=this.validateAll(t[s],n.properties[s],[s],["properties",s],o)){return i}}if(n.patternProperties!==undefined){for(var f in n.patternProperties){var l=new RegExp(f);if(l.test(s)){u=true;if(i=this.validateAll(t[s],n.patternProperties[f],[s],["patternProperties",f],o)){return i}}}}if(!u){if(n.additionalProperties!==undefined){if(this.trackUnknownProperties){this.knownPropertyPaths[o]=true;delete this.unknownPropertyPaths[o]}if(typeof n.additionalProperties==="boolean"){if(!n.additionalProperties){i=this.createError(a.OBJECT_ADDITIONAL_PROPERTIES,{}).prefixWith(s,"additionalProperties");if(this.handleError(i)){return i}}}else{if(i=this.validateAll(t[s],n.additionalProperties,[s],["additionalProperties"],o)){return i}}}else if(this.trackUnknownProperties&&!this.knownPropertyPaths[o]){this.unknownPropertyPaths[o]=true}}else if(this.trackUnknownProperties){this.knownPropertyPaths[o]=true;delete this.unknownPropertyPaths[o]}}return null};t.prototype.validateObjectDependencies=function(t,n,r){var i;if(n.dependencies!==undefined){for(var s in n.dependencies){if(t[s]!==undefined){var o=n.dependencies[s];if(typeof o==="string"){if(t[o]===undefined){i=this.createError(a.OBJECT_DEPENDENCY_KEY,{key:s,missing:o}).prefixWith(null,s).prefixWith(null,"dependencies");if(this.handleError(i)){return i}}}else if(Array.isArray(o)){for(var u=0;u<o.length;u++){var f=o[u];if(t[f]===undefined){i=this.createError(a.OBJECT_DEPENDENCY_KEY,{key:s,missing:f}).prefixWith(null,""+u).prefixWith(null,s).prefixWith(null,"dependencies");if(this.handleError(i)){return i}}}}else{if(i=this.validateAll(t,o,[],["dependencies",s],r)){return i}}}}}return null};t.prototype.validateCombinations=function(t,n,r){return this.validateAllOf(t,n,r)||this.validateAnyOf(t,n,r)||this.validateOneOf(t,n,r)||this.validateNot(t,n,r)||null};t.prototype.validateAllOf=function(t,n,r){if(n.allOf===undefined){return null}var i;for(var s=0;s<n.allOf.length;s++){var o=n.allOf[s];if(i=this.validateAll(t,o,[],["allOf",s],r)){return i}}return null};t.prototype.validateAnyOf=function(t,n,r){if(n.anyOf===undefined){return null}var i=[];var s=this.errors.length;var o,u;if(this.trackUnknownProperties){o=this.unknownPropertyPaths;u=this.knownPropertyPaths}var f=true;for(var l=0;l<n.anyOf.length;l++){if(this.trackUnknownProperties){this.unknownPropertyPaths={};this.knownPropertyPaths={}}var c=n.anyOf[l];var h=this.errors.length;var p=this.validateAll(t,c,[],["anyOf",l],r);if(p===null&&h===this.errors.length){this.errors=this.errors.slice(0,s);if(this.trackUnknownProperties){for(var d in this.knownPropertyPaths){u[d]=true;delete o[d]}for(var v in this.unknownPropertyPaths){if(!u[v]){o[v]=true}}f=false;continue}return null}if(p){i.push(p.prefixWith(null,""+l).prefixWith(null,"anyOf"))}}if(this.trackUnknownProperties){this.unknownPropertyPaths=o;this.knownPropertyPaths=u}if(f){i=i.concat(this.errors.slice(s));this.errors=this.errors.slice(0,s);return this.createError(a.ANY_OF_MISSING,{},"","/anyOf",i)}};t.prototype.validateOneOf=function(t,n,r){if(n.oneOf===undefined){return null}var i=null;var s=[];var o=this.errors.length;var u,f;if(this.trackUnknownProperties){u=this.unknownPropertyPaths;f=this.knownPropertyPaths}for(var l=0;l<n.oneOf.length;l++){if(this.trackUnknownProperties){this.unknownPropertyPaths={};this.knownPropertyPaths={}}var c=n.oneOf[l];var h=this.errors.length;var p=this.validateAll(t,c,[],["oneOf",l],r);if(p===null&&h===this.errors.length){if(i===null){i=l}else{this.errors=this.errors.slice(0,o);return this.createError(a.ONE_OF_MULTIPLE,{index1:i,index2:l},"","/oneOf")}if(this.trackUnknownProperties){for(var d in this.knownPropertyPaths){f[d]=true;delete u[d]}for(var v in this.unknownPropertyPaths){if(!f[v]){u[v]=true}}}}else if(p){s.push(p.prefixWith(null,""+l).prefixWith(null,"oneOf"))}}if(this.trackUnknownProperties){this.unknownPropertyPaths=u;this.knownPropertyPaths=f}if(i===null){s=s.concat(this.errors.slice(o));this.errors=this.errors.slice(0,o);return this.createError(a.ONE_OF_MISSING,{},"","/oneOf",s)}else{this.errors=this.errors.slice(0,o)}return null};t.prototype.validateNot=function(t,n,r){if(n.not===undefined){return null}var i=this.errors.length;var s,o;if(this.trackUnknownProperties){s=this.unknownPropertyPaths;o=this.knownPropertyPaths;this.unknownPropertyPaths={};this.knownPropertyPaths={}}var u=this.validateAll(t,n.not,null,null,r);var f=this.errors.slice(i);this.errors=this.errors.slice(0,i);if(this.trackUnknownProperties){this.unknownPropertyPaths=s;this.knownPropertyPaths=o}if(u===null&&f.length===0){return this.createError(a.NOT_PASSED,{},"","/not")}return null};var a={INVALID_TYPE:0,ENUM_MISMATCH:1,ANY_OF_MISSING:10,ONE_OF_MISSING:11,ONE_OF_MULTIPLE:12,NOT_PASSED:13,NUMBER_MULTIPLE_OF:100,NUMBER_MINIMUM:101,NUMBER_MINIMUM_EXCLUSIVE:102,NUMBER_MAXIMUM:103,NUMBER_MAXIMUM_EXCLUSIVE:104,STRING_LENGTH_SHORT:200,STRING_LENGTH_LONG:201,STRING_PATTERN:202,OBJECT_PROPERTIES_MINIMUM:300,OBJECT_PROPERTIES_MAXIMUM:301,OBJECT_REQUIRED:302,OBJECT_ADDITIONAL_PROPERTIES:303,OBJECT_DEPENDENCY_KEY:304,ARRAY_LENGTH_SHORT:400,ARRAY_LENGTH_LONG:401,ARRAY_UNIQUE:402,ARRAY_ADDITIONAL_ITEMS:403,FORMAT_CUSTOM:500,KEYWORD_CUSTOM:501,CIRCULAR_REFERENCE:600,UNKNOWN_PROPERTY:1e3};var f={};for(var l in a){f[a[l]]=l}var c={INVALID_TYPE:"invalid type: {type} (expected {expected})",ENUM_MISMATCH:"No enum match for: {value}",ANY_OF_MISSING:'Data does not match any schemas from "anyOf"',ONE_OF_MISSING:'Data does not match any schemas from "oneOf"',ONE_OF_MULTIPLE:'Data is valid against more than one schema from "oneOf": indices {index1} and {index2}',NOT_PASSED:'Data matches schema from "not"',NUMBER_MULTIPLE_OF:"Value {value} is not a multiple of {multipleOf}",NUMBER_MINIMUM:"Value {value} is less than minimum {minimum}",NUMBER_MINIMUM_EXCLUSIVE:"Value {value} is equal to exclusive minimum {minimum}",NUMBER_MAXIMUM:"Value {value} is greater than maximum {maximum}",NUMBER_MAXIMUM_EXCLUSIVE:"Value {value} is equal to exclusive maximum {maximum}",STRING_LENGTH_SHORT:"String is too short ({length} chars), minimum {minimum}",STRING_LENGTH_LONG:"String is too long ({length} chars), maximum {maximum}",STRING_PATTERN:"String does not match pattern: {pattern}",OBJECT_PROPERTIES_MINIMUM:"Too few properties defined ({propertyCount}), minimum {minimum}",OBJECT_PROPERTIES_MAXIMUM:"Too many properties defined ({propertyCount}), maximum {maximum}",OBJECT_REQUIRED:"Missing required property: {key}",OBJECT_ADDITIONAL_PROPERTIES:"Additional properties not allowed",OBJECT_DEPENDENCY_KEY:"Dependency failed - key must exist: {missing} (due to key: {key})",ARRAY_LENGTH_SHORT:"Array is too short ({length}), minimum {minimum}",ARRAY_LENGTH_LONG:"Array is too long ({length}), maximum {maximum}",ARRAY_UNIQUE:"Array items are not unique (indices {match1} and {match2})",ARRAY_ADDITIONAL_ITEMS:"Additional items not allowed",FORMAT_CUSTOM:"Format validation failed ({message})",KEYWORD_CUSTOM:"Keyword failed: {key} ({message})",CIRCULAR_REFERENCE:"Circular $refs: {urls}",UNKNOWN_PROPERTY:"Unknown property (not in schema)"};h.prototype=Object.create(Error.prototype);h.prototype.constructor=h;h.prototype.name="ValidationError";h.prototype.prefixWith=function(e,t){if(e!==null){e=e.replace(/~/g,"~0").replace(/\//g,"~1");this.dataPath="/"+e+this.dataPath}if(t!==null){t=t.replace(/~/g,"~0").replace(/\//g,"~1");this.schemaPath="/"+t+this.schemaPath}if(this.subErrors!==null){for(var n=0;n<this.subErrors.length;n++){this.subErrors[n].prefixWith(e,t)}}return this};var d={};var m=v();m.addLanguage("en-gb",c);m.tv4=m;if(typeof n!=="undefined"&&n.exports){n.exports=m}else{e.tv4=m}})(this)});require.register("optimuslime-win-schema/lib/addSchema.js",function(e,t,n){function s(e){function u(n,i,o){function g(e){return h[e.join(t)]}var u={};if(o.skipWINAdditions)u.isWIN=false;else u.isWIN=true;var a={};var f=r(i);var c=e.requiredReferences[n];var h={};for(var p in c){var d=c[p];for(var v=0;v<d.length;v++){var m=d[v];h[m.typePath]=m}}f.forEach(function(t){if(this.isRoot||this.isLeaf)return;if(g(this.path))this.keys=[];if(this.key!="properties"&&this.key!="items"&&e.keywordRegExp.test(this.key))this.keys=[];if(s.test(this.key))this.keys=[];if(this.keys.length){var n=l(this.path);if(this.node.type=="array"||this.node.items||this.key=="items"){a[n]={type:"array"};this.keys=[]}else{a[n]={type:this.node.type||"object"}}}});e.primaryPaths[n]=a;e.typeProperties[n]=u}function a(t){var n=false;if(Array.isArray(t)){for(var r=0;r<t.length;r++){var i=t[r];if(!e.keywordRegExp.test(i)){n=true;break}}}else{for(var i in t){if(!e.keywordRegExp.test(i)){n=true;break}}}return n}function f(n){var s=e.validateFunction.apply(e.validator,[n,i,true]);var o={length:0};var u={length:0};if(!s.valid){e.log("Invalid from v4 JSON schema perspective: ",s[errorKey]);o["root"]=s[errorKey];o.length++;return o}if(!n.properties&&!n.items){o["root"]="No properties/items defined at root. Schema has no validation without properties!";o.length++}var f=r(n);f.forEach(function(n){if(this.isRoot||this.path.join(t).indexOf("required")!=-1)return;if(!e.requireByDefault&&!this.isLeaf&&!this.node.required){u[this.path.join(t)]="warning: if you disable requireByDefault and don't put require arrays, validation will ignore those properties.";u.length++}if(this.key=="properties"&&this.node.properties){o[this.path.join(t)]="Properties inside properties is meaningless.";o.length++}if(this.key=="type"&&typeof this.node!="string"){o[this.path.join(t)]="Types must be string";o.length++}if(this.key=="type"&&!e.typeRegExp.test(this.node.toLowerCase())){o[this.path.join(t)]="Types must be one of "+e.validTypes+" not "+this.node;o.length++}if(this.isLeaf){if(!this.parent.node.properties&&this.key!="type"&&this.key!="$ref"&&!this.parent.node.type&&!this.parent.node["$ref"]){o[this.path.join(t)]="Object doesn't have any properties, a valid type, or a reference, therefore it is invalid in the WIN spec.";o.length++}}if(!e.allowAnyObjects&&!this.isLeaf&&!this.node["$ref"]){if(this.node.type=="object"&&this.key!="items"){var r=a(this.keys);if(!r){o[this.path.join(t)]="AllowAnyObjects is off, therefore you cannot simple have an 'object' type with no inner properties";o.length++}}else if(this.node.type=="array"){if(!this.node.items){o[this.path.join(t)]="AllowAnyObjects is off, therefore you cannot simple have an 'array' type with no inner items";o.length++}else{var i=this.node.items["$ref"]||this.node.items["type"]||a(this.node.items.properties||{});if(!i){o[this.path.join(t)]="AllowAnyObjects is off, therefore you cannot simple have an 'array' type with no non-keyword inner items";o.length++}}}}if(this.node.type=="array"){var s=this.node.items;if(!s&&!e.allowAnyObjects){o[this.path.join(t)]="AllowAnyObjects is off for arrays, therefore you cannot simple have an 'array' type with no inner items";o.length++}else{s=s||{};if(s.properties&&s["$ref"]){o[this.path.join(t)]="Array items in WIN cannot have properties AND a reference type. One or the other.";o.length++}}}});if(o.length||u.length)return{errors:o,warnings:u};else return null}function l(e){var n=[];r(e).forEach(function(){if(!this.isRoot&&this.node!="properties"&&this.node!="items")n.push(this.node)});return n.join(t)}function c(n){var i=r(n);var s={};e.log("--  Parsing refs -- ");i.forEach(function(n){if(this.node["$ref"]&&(this.key=="items"||!e.keywordRegExp.test(this.key))){var r=this.path.join(t);var i=this.node["$ref"];var o=l(this.path);var u=this.key=="items"?this.path.slice(0,this.path.length-1).join(t):r;if(s[r]){throw new Error("Not yet supported reference behavior, arrays of references: ",r)}s[r]={schemaType:i,schemaPath:r,objectPath:o,typePath:u};e.log(e.log.testing,"Reference detected @ "+r+": ",s[r])}});e.log("-- Full refs -- ",s);return s}function h(t,n){e.schemaReferences[t]=c(n);e.requiredReferences[t]={};for(var r in e.schemaReferences[t]){var i=e.schemaReferences[t][r];var s=i.schemaType;var o=e.requiredReferences[t][s];if(!o){o=[];e.requiredReferences[t][s]=o}o.push(i)}}function p(t){t.forEach(function(t){if(!this.isLeaf&&this.key!="properties"&&!Array.isArray(this.node)){var n="properties";if(this.node.type=="array")n="items";var r=true;var i={};for(var s in this.node){if(!e.keywordRegExp.test(s)){i[s]=this.node[s];r=false}}if(!r){t[n]=t[n]||{};for(var s in i){t[n][s]=i[s];delete t[s]}this.update(t);this.keys.push(n)}}})}function d(e,t){for(var i in n){var s=n[i];if(typeof s=="string")e[i]=s;else e[i]=r(n[i]).clone()}}function v(t,n){if(!n.skipWINAdditions)d(t,n);var i=r(t);i.forEach(function(t){var n=false;if(this.isLeaf&&typeof this.node=="string"){if(!e.keywordRegExp.test(this.key)&&e.typeRegExp.test(t.toLowerCase())){t={type:t.toLowerCase()};n=true}}if(this.node){if(this.node.items&&!this.node.type){this.node.type="array";n=true}if(this.node.type=="array"&&this.node["$ref"]){this.node.items=this.node.items||{};this.node.items["$ref"]=this.node["$ref"];delete this.node["$ref"];n=true}}if(n)this.update(t)});p(i);i.forEach(function(t){var n=false;if(e.requireByDefault&&!this.isLeaf&&!this.node.required&&!Array.isArray(this.node)){var r=[];if(this.key!="properties"){for(var i in this.node){if(!e.keywordRegExp.test(i)){r.push(i)}}}for(var i in this.node.properties){if(!e.keywordRegExp.test(i)){r.push(i)}}if(r.length){t.required=r;n=true}}if(n){this.update(t)}})}var t=e.pathDelimiter;var n={wid:"string",dbType:"string",parents:{type:"array",items:{type:"string"}}};var s=[];for(var o in n){s.push(o)}e.log("--All WIN keywords: ",s);s=new RegExp("\\b"+s.join("\\b|\\b")+"\\b");e.internalAddSchema=function(t,n,i,s){if(typeof i=="function"){s=i;i={}}else i=i||{};n=JSON.parse(JSON.stringify(n));r(n).forEach(function(e){if(this.key=="type"&&typeof this.node=="string")this.update(this.node.toLowerCase())});v(n,i);var o=f(n);if(o&&o.errors){s("Improper schema format for "+t+" - "+JSON.stringify(o));return}if(o&&o.warnings){e.log("Warnings: ".yellow,o.warnings)}e.allSchema[t]=n;if(!n.id||n.id!=t)n.id=t;if(!n["$schema"])n["$schema"]="http://json-schema.org/draft-04/schema#";if(!n.type)n.type="object";e.validator.addSchema(n);if(e.validator.error){s(e.validator.error)}else{h(t,n);u(t,n,i);s()}};return e}var r=t("optimuslime-traverse");var i=t("./schemaSpec");n.exports=s});require.register("optimuslime-win-schema/lib/schemaSpec.js",function(e,t,n){n.exports={id:"http://json-schema.org/draft-04/schema#",$schema:"http://json-schema.org/draft-04/schema#",description:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},positiveInteger:{type:"integer",minimum:0},positiveIntegerDefault0:{allOf:[{$ref:"#/definitions/positiveInteger"},{"default":0}]},simpleTypes:{"enum":["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},minItems:1,uniqueItems:true}},type:"object",properties:{id:{type:"string",format:"uri"},$schema:{type:"string",format:"uri"},title:{type:"string"},description:{type:"string"},"default":{},multipleOf:{type:"number",minimum:0,exclusiveMinimum:true},maximum:{type:"number"},exclusiveMaximum:{type:"boolean","default":false},minimum:{type:"number"},exclusiveMinimum:{type:"boolean","default":false},maxLength:{$ref:"#/definitions/positiveInteger"},minLength:{$ref:"#/definitions/positiveIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{anyOf:[{type:"boolean"},{$ref:"#"}],"default":{}},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],"default":{}},maxItems:{$ref:"#/definitions/positiveInteger"},minItems:{$ref:"#/definitions/positiveIntegerDefault0"},uniqueItems:{type:"boolean","default":false},maxProperties:{$ref:"#/definitions/positiveInteger"},minProperties:{$ref:"#/definitions/positiveIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{anyOf:[{type:"boolean"},{$ref:"#"}],"default":{}},definitions:{type:"object",additionalProperties:{$ref:"#"},"default":{}},properties:{type:"object",additionalProperties:{$ref:"#"},"default":{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},"default":{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},"enum":{type:"array",minItems:1,uniqueItems:true},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:true}]},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},dependencies:{exclusiveMaximum:["maximum"],exclusiveMinimum:["minimum"]},"default":{}}});require.register("optimuslime-win-schema/lib/win-schema.js",function(e,t,n){function u(e,t,n){function f(e){if(!u.allSchema[e]){return"Schema type not loaded: "+e}var t=u.validator.getMissingUris();for(var n=0;n<t.length;n++){if(u.requiredReferences[e][t[n]]){return"Missing at least 1 schema definition: "+t[n]}}}function l(e,t){var n=u.validateFunction.apply(u.validator,[t,e,true,!u.allowUnknownKeys]);var r=n[u.errorKey];r=r&&!Array.isArray(r)?[r]:r||[];return{valid:n.valid,errors:r}}function p(e){if(h[e]){throw new Error("Infinite schema reference loop: "+JSON.stringify(Object.keys(h)))}h[e]=true;if(!u.fullSchema[e]){var t=c(e);u.fullSchema[e]=t}delete h[e];return u.fullSchema[e]}var u=this;u.winFunction="schema";u.log=e.getLogger(u);u.log.logLevel=n.logLevel||u.log.normal;u.pathDelimiter="///";o(u,t,n);u.validator=r.freshApi();u.bbEmit=e.getEmitter(u);u.multipleErrors=n.multipleErrors==true||n.multipleErrors=="true";u.allowUnknownKeys=n.allowUnknownKeys||false;u.requireByDefault=n.requireByDefault||true;u.allowAnyObjects=n.allowAnyObjects||false;u.eventCallbacks=function(){var e={};e["schema:validate"]=u.validateData;e["schema:validateMany"]=u.validateDataArray;e["schema:addSchema"]=u.addSchema;e["schema:getSchema"]=u.getSchema;e["schema:getSchemaReferences"]=u.getSchemaReferences;e["schema:getFullSchema"]=u.getFullSchema;e["schema:getSchemaProperties"]=u.getSchemaProperties;return e};u.requiredEvents=function(){return[]};u.initialize=function(e){setTimeout(function(){e()},0)};u.allSchema={};u.schemaReferences={};u.requiredReferences={};u.fullSchema={};u.primaryPaths={};u.typeProperties={};u.validTypes="\\b"+s.definitions.simpleTypes.enum.join("\\b|\\b")+"\\b";u.typeRegExp=new RegExp(u.validTypes);u.specKeywords=["\\$ref|\\babcdefg"];for(var a in s.properties)u.specKeywords.push(a.replace("$","\\$"));u.specKeywords=u.specKeywords.join("\\b|\\b")+"\\b";u.keywordRegExp=new RegExp(u.specKeywords);u.log(u.log.testing,"--Specced types: ".green,u.validTypes);u.log(u.log.testing,"--Specced keywords: ".green,u.specKeywords);u.validateFunction=u.multipleErrors?u.validator.validateMultiple:u.validator.validateResult;u.errorKey=u.multipleErrors?"errors":"error";u.validateDataArray=function(e,t,n){var r=f(e);if(r){n(r);return}else if(typeof e!="string"||!Array.isArray(t)){n("ValidateMany requires type [string], objects [array]");return}var i=u.validator.getSchema(e);var s=true;var o=[];for(var a=0;a<t.length;a++){var c=l(i,t[a]);if(!c.valid){s=false;o.push(c.errors)}else o.push([])}n(undefined,s,!s?o:undefined)};u.validateData=function(e,t,n){var r=f(e);if(r){n(r);return}u.log("Validate: ",t);var i=u.validator.getSchema(e);u.log("validate against: ",i);var s=l(i,t);n(undefined,s.valid,s.errors.length?s.errors:undefined)};u.addSchema=function(e,t,n,r){return u.internalAddSchema.apply(u,arguments)};u.getSchema=function(e,t){var n=e;if(typeof e=="string"){n=[e]}var r=[];for(var s=0;s<n.length;s++){var o=n[s];if(!u.allSchema[o]){t("Schema type not loaded: ",o);return}r.push(i(u.validator.getSchema(o)).clone());if(u.validator.error){t(u.validator.error);return}}t(undefined,r)};u.getSchemaReferences=function(e,t){var n=e;if(typeof e=="string"){n=[e]}var r=[];for(var s=0;s<n.length;s++){var o=n[s];if(!u.allSchema[o]){t("Schema type not loaded: ",o);return}r.push(i(u.requiredReferences[o]).clone())}t(undefined,r)};var c=function(e){var t=u.validator.getSchema(e);var n=i(t);var r=n.clone();var s=i(r);var o=u.schemaReferences[e];for(var a in o){var f=o[a];var l=f.schemaType;var c=p(l);var h=a.split(u.pathDelimiter);s.set(h,c)}return r};var h={};u.getFullSchema=function(e,t){var n=e;if(typeof e=="string"){n=[e]}var r=[];for(var s=0;s<n.length;s++){var o=n[s];if(!u.allSchema[o]){t("Schema type not loaded: ",o);return}try{var a=p(o);r.push(i(a).clone())}catch(f){t(f);return}}t(undefined,r)};u.getSchemaProperties=function(e,t){var n=e;if(typeof e=="string"){n=[e]}var r=[];for(var s=0;s<n.length;s++){var o=n[s];if(!u.allSchema[o]){t("Schema type not loaded: ",o);return}r.push({type:o,primaryPaths:i(u.primaryPaths[o]).clone(),properties:i(u.typeProperties[o]).clone()})}t(undefined,r)};return u}var r=t("tv4");var i=t("optimuslime-traverse");var s=t("./schemaSpec.js");var o=t("./addSchema");n.exports=u});require.register("techjacker-q/q.js",function(e,t,n){(function(t){if(typeof bootstrap==="function"){bootstrap("promise",t)}else if(typeof e==="object"){n.exports=t()}else if(typeof define==="function"&&define.amd){define(t)}else if(typeof ses!=="undefined"){if(!ses.ok()){return}else{ses.makeQ=t}}else{Q=t()}})(function(){"use strict";function u(e){return function(){return o.apply(e,arguments)}}function m(e){return e===Object(e)}function g(e){return v(e)==="[object StopIteration]"||e instanceof y}function E(t,n){if(e&&n.stack&&typeof t==="object"&&t!==null&&t.stack&&t.stack.indexOf(w)===-1){var r=[];for(var i=n;!!i;i=i.source){if(i.stack){r.unshift(i.stack)}}r.unshift(t.stack);var s=r.join("\n"+w+"\n");t.stack=S(s)}}function S(e){var t=e.split("\n");var n=[];for(var r=0;r<t.length;++r){var i=t[r];if(!N(i)&&!x(i)&&i){n.push(i)}}return n.join("\n")}function x(e){return e.indexOf("(module.js:")!==-1||e.indexOf("(node.js:")!==-1}function T(e){var t=/at .+ \((.+):(\d+):(?:\d+)\)$/.exec(e);if(t){return[t[1],Number(t[2])]}var n=/at ([^ ]+):(\d+):(?:\d+)$/.exec(e);if(n){return[n[1],Number(n[2])]}var r=/.*@(.+):(\d+)$/.exec(e);if(r){return[r[1],Number(r[2])]}}function N(e){var t=T(e);if(!t){return false}var i=t[0];var s=t[1];return i===r&&s>=n&&s<=lt}function C(){if(!e){return}try{throw new Error}catch(t){var n=t.stack.split("\n");var i=n[0].indexOf("@")>0?n[1]:n[2];var s=T(i);if(!s){return}r=s[0];return s[1]}}function k(e,t,n){return function(){if(typeof console!=="undefined"&&typeof console.warn==="function"){console.warn(t+" is deprecated, use "+n+" instead.",(new Error("")).stack)}return e.apply(e,arguments)}}function L(e){if(H(e)){return e}if(B(e)){return G(e)}else{return Q(e)}}function A(){function l(e){r=e;o.source=e;f(t,function(t,n){s(function(){e.promiseDispatch.apply(e,n)})},void 0);t=void 0;n=void 0}var t=[],n=[],r;var i=h(A.prototype);var o=h(_.prototype);o.promiseDispatch=function(e,i,o){var u=a(arguments);if(t){t.push(u);if(i==="when"&&o[1]){n.push(o[1])}}else{s(function(){r.promiseDispatch.apply(r,u)})}};o.valueOf=k(function(){if(t){return o}var e=P(r);if(H(e)){r=e}return e},"valueOf","inspect");o.inspect=function(){if(!r){return{state:"pending"}}return r.inspect()};if(L.longStackSupport&&e){try{throw new Error}catch(u){o.stack=u.stack.substring(u.stack.indexOf("\n")+1)}}i.promise=o;i.resolve=function(e){if(r){return}l(L(e))};i.fulfill=function(e){if(r){return}l(Q(e))};i.reject=function(e){if(r){return}l(K(e))};i.notify=function(e){if(r){return}f(n,function(t,n){s(function(){n(e)})},void 0)};return i}function O(e){if(typeof e!=="function"){throw new TypeError("resolver must be a function.")}var t=A();try{e(t.resolve,t.reject,t.notify)}catch(n){t.reject(n)}return t.promise}function M(e){return O(function(t,n){for(var r=0,i=e.length;r<i;r++){L(e[r]).then(t,n)}})}function _(e,t,n){if(t===void 0){t=function(e){return K(new Error("Promise does not support operation: "+e))}}if(n===void 0){n=function(){return{state:"unknown"}}}var r=h(_.prototype);r.promiseDispatch=function(n,i,s){var o;try{if(e[i]){o=e[i].apply(r,s)}else{o=t.call(r,i,s)}}catch(u){o=K(u)}if(n){n(o)}};r.inspect=n;if(n){var i=n();if(i.state==="rejected"){r.exception=i.reason}r.valueOf=k(function(){var e=n();if(e.state==="pending"||e.state==="rejected"){return r}return e.value})}return r}function D(e,t,n,r){return L(e).then(t,n,r)}function P(e){if(H(e)){var t=e.inspect();if(t.state==="fulfilled"){return t.value}}return e}function H(e){return m(e)&&typeof e.promiseDispatch==="function"&&typeof e.inspect==="function"}function B(e){return m(e)&&typeof e.then==="function"}function j(e){return H(e)&&e.inspect().state==="pending"}function F(e){return!H(e)||e.inspect().state==="fulfilled"}function I(e){return H(e)&&e.inspect().state==="rejected"}function W(){if(!U&&typeof window!=="undefined"&&!window.Touch&&window.console){console.warn("[Q] Unhandled rejection reasons (should be empty):",q)}U=true}function X(){for(var e=0;e<q.length;e++){var t=q[e];if(t&&typeof t.stack!=="undefined"){console.warn("Unhandled rejection reason:",t.stack)}else{console.warn("Unhandled rejection reason (no stack):",t)}}}function V(){q.length=0;R.length=0;U=false;if(!z){z=true;if(typeof process!=="undefined"&&process.on){process.on("exit",X)}}}function $(e,t){if(!z){return}R.push(e);q.push(t);W()}function J(e){if(!z){return}var t=l(R,e);if(t!==-1){R.splice(t,1);q.splice(t,1)}}function K(e){var t=_({when:function(t){if(t){J(this)}return t?t(e):this}},function(){return this},function(){return{state:"rejected",reason:e}});$(t,e);return t}function Q(e){return _({when:function(){return e},get:function(t){return e[t]},set:function(t,n){e[t]=n},"delete":function(t){delete e[t]},post:function(t,n){if(t===null||t===void 0){return e.apply(void 0,n)}else{return e[t].apply(e,n)}},apply:function(t,n){return e.apply(t,n)},keys:function(){return d(e)}},void 0,function(){return{state:"fulfilled",value:e}})}function G(e){var t=A();s(function(){try{e.then(t.resolve,t.reject,t.notify)}catch(n){t.reject(n)}});return t.promise}function Y(e){return _({isDef:function(){}},function(n,r){return it(e,n,r)},function(){return L(e).inspect()})}function Z(e,t,n){return L(e).spread(t,n)}function et(e){return function(){function t(e,t){var s;if(b){try{s=n[e](t)}catch(o){return K(o)}if(s.done){return s.value}else{return D(s.value,r,i)}}else{try{s=n[e](t)}catch(o){if(g(o)){return o.value}else{return K(o)}}return D(s,r,i)}}var n=e.apply(this,arguments);var r=t.bind(t,"next");var i=t.bind(t,"throw");return r()}}function tt(e){L.done(L.async(e)())}function nt(e){throw new y(e)}function rt(e){return function(){return Z([this,st(arguments)],function(t,n){return e.apply(t,n)})}}function it(e,t,n){return L(e).dispatch(t,n)}function st(e){return D(e,function(e){var t=0;var n=A();f(e,function(r,i,s){var o;if(H(i)&&(o=i.inspect()).state==="fulfilled"){e[s]=o.value}else{++t;D(i,function(r){e[s]=r;if(--t===0){n.resolve(e)}},n.reject,function(e){n.notify({index:s,value:e})})}},void 0);if(t===0){n.resolve(e)}return n.promise})}function ot(e){return D(e,function(e){e=c(e,L);return D(st(c(e,function(e){return D(e,i,i)})),function(){return e})})}function ut(e){return L(e).allSettled()}function at(e,t){return L(e).then(void 0,void 0,t)}function ft(e,t){return L(e).nodeify(t)}var e=false;try{throw new Error}catch(t){e=!!t.stack}var n=C();var r;var i=function(){};var s=function(){function o(){while(e.next){e=e.next;var t=e.task;e.task=void 0;var r=e.domain;if(r){e.domain=void 0;r.enter()}try{t()}catch(s){if(i){if(r){r.exit()}setTimeout(o,0);if(r){r.enter()}throw s}else{setTimeout(function(){throw s},0)}}if(r){r.exit()}}n=false}var e={task:void 0,next:null};var t=e;var n=false;var r=void 0;var i=false;s=function(e){t=t.next={task:e,domain:i&&process.domain,next:null};if(!n){n=true;r()}};if(typeof process!=="undefined"&&process.nextTick){i=true;r=function(){process.nextTick(o)}}else if(typeof setImmediate==="function"){if(typeof window!=="undefined"){r=setImmediate.bind(window,o)}else{r=function(){setImmediate(o)}}}else if(typeof MessageChannel!=="undefined"){var u=new MessageChannel;u.port1.onmessage=o;r=function(){u.port2.postMessage(0)}}else{r=function(){setTimeout(o,0)}}return s}();var o=Function.call;var a=u(Array.prototype.slice);var f=u(Array.prototype.reduce||function(e,t){var n=0,r=this.length;if(arguments.length===1){do{if(n in this){t=this[n++];break}if(++n>=r){throw new TypeError}}while(1)}for(;n<r;n++){if(n in this){t=e(t,this[n],n)}}return t});var l=u(Array.prototype.indexOf||function(e){for(var t=0;t<this.length;t++){if(this[t]===e){return t}}return-1});var c=u(Array.prototype.map||function(e,t){var n=this;var r=[];f(n,function(i,s,o){r.push(e.call(t,s,o,n))},void 0);return r});var h=Object.create||function(e){function t(){}t.prototype=e;return new t};var p=u(Object.prototype.hasOwnProperty);var d=Object.keys||function(e){var t=[];for(var n in e){if(p(e,n)){t.push(n)}}return t};var v=u(Object.prototype.toString);var y;if(typeof ReturnValue!=="undefined"){y=ReturnValue}else{y=function(e){this.value=e}}var b;try{new Function("(function* (){ yield 1; })");b=true}catch(t){b=false}var w="From previous event:";L.resolve=L;L.nextTick=s;L.longStackSupport=false;L.defer=A;A.prototype.makeNodeResolver=function(){var e=this;return function(t,n){if(t){e.reject(t)}else if(arguments.length>2){e.resolve(a(arguments,1))}else{e.resolve(n)}}};L.promise=O;L.passByCopy=function(e){return e};_.prototype.passByCopy=function(){return this};L.join=function(e,t){return L(e).join(t)};_.prototype.join=function(e){return L([this,e]).spread(function(e,t){if(e===t){return e}else{throw new Error("Can't join: not the same: "+e+" "+t)}})};L.race=M;_.prototype.race=function(){return this.then(L.race)};L.makePromise=_;_.prototype.toString=function(){return"[object Promise]"};_.prototype.then=function(e,t,n){function u(t){try{return typeof e==="function"?e(t):t}catch(n){return K(n)}}function a(e){if(typeof t==="function"){E(e,r);try{return t(e)}catch(n){return K(n)}}return K(e)}function f(e){return typeof n==="function"?n(e):e}var r=this;var i=A();var o=false;s(function(){r.promiseDispatch(function(e){if(o){return}o=true;i.resolve(u(e))},"when",[function(e){if(o){return}o=true;i.resolve(a(e))}])});r.promiseDispatch(void 0,"when",[void 0,function(e){var t;var n=false;try{t=f(e)}catch(r){n=true;if(L.onerror){L.onerror(r)}else{throw r}}if(!n){i.notify(t)}}]);return i.promise};L.when=D;_.prototype.thenResolve=function(e){return this.then(function(){return e})};L.thenResolve=function(e,t){return L(e).thenResolve(t)};_.prototype.thenReject=function(e){return this.then(function(){throw e})};L.thenReject=function(e,t){return L(e).thenReject(t)};L.nearer=P;L.isPromise=H;L.isPromiseAlike=B;L.isPending=j;_.prototype.isPending=function(){return this.inspect().state==="pending"};L.isFulfilled=F;_.prototype.isFulfilled=function(){return this.inspect().state==="fulfilled"};L.isRejected=I;_.prototype.isRejected=function(){return this.inspect().state==="rejected"};var q=[];var R=[];var U=false;var z=true;L.resetUnhandledRejections=V;L.getUnhandledReasons=function(){return q.slice()};L.stopUnhandledRejectionTracking=function(){V();if(typeof process!=="undefined"&&process.on){process.removeListener("exit",X)}z=false};V();L.reject=K;L.fulfill=Q;L.master=Y;L.spread=Z;_.prototype.spread=function(e,t){return this.all().then(function(t){return e.apply(void 0,t)},t)};L.async=et;L.spawn=tt;L["return"]=nt;L.promised=rt;L.dispatch=it;_.prototype.dispatch=function(e,t){var n=this;var r=A();s(function(){n.promiseDispatch(r.resolve,e,t)});return r.promise};L.get=function(e,t){return L(e).dispatch("get",[t])};_.prototype.get=function(e){return this.dispatch("get",[e])};L.set=function(e,t,n){return L(e).dispatch("set",[t,n])};_.prototype.set=function(e,t){return this.dispatch("set",[e,t])};L.del=L["delete"]=function(e,t){return L(e).dispatch("delete",[t])};_.prototype.del=_.prototype["delete"]=function(e){return this.dispatch("delete",[e])};L.mapply=L.post=function(e,t,n){return L(e).dispatch("post",[t,n])};_.prototype.mapply=_.prototype.post=function(e,t){return this.dispatch("post",[e,t])};L.send=L.mcall=L.invoke=function(e,t){return L(e).dispatch("post",[t,a(arguments,2)])};_.prototype.send=_.prototype.mcall=_.prototype.invoke=function(e){return this.dispatch("post",[e,a(arguments,1)])};L.fapply=function(e,t){return L(e).dispatch("apply",[void 0,t])};_.prototype.fapply=function(e){return this.dispatch("apply",[void 0,e])};L["try"]=L.fcall=function(e){return L(e).dispatch("apply",[void 0,a(arguments,1)])};_.prototype.fcall=function(){return this.dispatch("apply",[void 0,a(arguments)])};L.fbind=function(e){var t=L(e);var n=a(arguments,1);return function(){return t.dispatch("apply",[this,n.concat(a(arguments))])}};_.prototype.fbind=function(){var e=this;var t=a(arguments);return function(){return e.dispatch("apply",[this,t.concat(a(arguments))])}};L.keys=function(e){return L(e).dispatch("keys",[])};_.prototype.keys=function(){return this.dispatch("keys",[])};L.all=st;_.prototype.all=function(){return st(this)};L.allResolved=k(ot,"allResolved","allSettled");_.prototype.allResolved=function(){return ot(this)};L.allSettled=ut;_.prototype.allSettled=function(){return this.then(function(e){return st(c(e,function(e){function t(){return e.inspect()}e=L(e);return e.then(t,t)}))})};L.fail=L["catch"]=function(e,t){return L(e).then(void 0,t)};_.prototype.fail=_.prototype["catch"]=function(e){return this.then(void 0,e)};L.progress=at;_.prototype.progress=function(e){return this.then(void 0,void 0,e)};L.fin=L["finally"]=function(e,t){return L(e)["finally"](t)};_.prototype.fin=_.prototype["finally"]=function(e){e=L(e);return this.then(function(t){return e.fcall().then(function(){return t})},function(t){return e.fcall().then(function(){throw t})})};L.done=function(e,t,n,r){return L(e).done(t,n,r)};_.prototype.done=function(e,t,n){var r=function(e){s(function(){E(e,i);if(L.onerror){L.onerror(e)}else{throw e}})};var i=e||t||n?this.then(e,t,n):this;if(typeof process==="object"&&process&&process.domain){r=process.domain.bind(r)}i.then(void 0,r)};L.timeout=function(e,t,n){return L(e).timeout(t,n)};_.prototype.timeout=function(e,t){var n=A();var r=setTimeout(function(){n.reject(new Error(t||"Timed out after "+e+" ms"))},e);this.then(function(e){clearTimeout(r);n.resolve(e)},function(e){clearTimeout(r);n.reject(e)},n.notify);return n.promise};L.delay=function(e,t){if(t===void 0){t=e;e=void 0}return L(e).delay(t)};_.prototype.delay=function(e){return this.then(function(t){var n=A();setTimeout(function(){n.resolve(t)},e);return n.promise})};L.nfapply=function(e,t){return L(e).nfapply(t)};_.prototype.nfapply=function(e){var t=A();var n=a(e);n.push(t.makeNodeResolver());this.fapply(n).fail(t.reject);return t.promise};L.nfcall=function(e){var t=a(arguments,1);return L(e).nfapply(t)};_.prototype.nfcall=function(){var e=a(arguments);var t=A();e.push(t.makeNodeResolver());this.fapply(e).fail(t.reject);return t.promise};L.nfbind=L.denodeify=function(e){var t=a(arguments,1);return function(){var n=t.concat(a(arguments));var r=A();n.push(r.makeNodeResolver());L(e).fapply(n).fail(r.reject);return r.promise}};_.prototype.nfbind=_.prototype.denodeify=function(){var e=a(arguments);e.unshift(this);return L.denodeify.apply(void 0,e)};L.nbind=function(e,t){var n=a(arguments,2);return function(){function s(){return e.apply(t,arguments)}var r=n.concat(a(arguments));var i=A();r.push(i.makeNodeResolver());L(s).fapply(r).fail(i.reject);return i.promise}};_.prototype.nbind=function(){var e=a(arguments,0);e.unshift(this);return L.nbind.apply(void 0,e)};L.nmapply=L.npost=function(e,t,n){return L(e).npost(t,n)};_.prototype.nmapply=_.prototype.npost=function(e,t){var n=a(t||[]);var r=A();n.push(r.makeNodeResolver());this.dispatch("post",[e,n]).fail(r.reject);return r.promise};L.nsend=L.nmcall=L.ninvoke=function(e,t){var n=a(arguments,2);var r=A();n.push(r.makeNodeResolver());L(e).dispatch("post",[t,n]).fail(r.reject);return r.promise};_.prototype.nsend=_.prototype.nmcall=_.prototype.ninvoke=function(e){var t=a(arguments,1);var n=A();t.push(n.makeNodeResolver());this.dispatch("post",[e,t]).fail(n.reject);return n.promise};L.nodeify=ft;_.prototype.nodeify=function(e){if(e){this.then(function(t){s(function(){e(null,t)})},function(t){s(function(){e(t)})})}else{return this}};var lt=C();return L})});require.register("optimuslime-win-gen/lib/wingen.js",function(e,t,n){function l(e,t,n){function v(e){switch(e){case"array":return[];case"object":return{};case"number":case"integer":return 0;case"string":return"";case"boolean":return false;case"null":return null}}function m(){var e=[].shift.call(arguments);var t=u.defer();[].push.call(arguments,function(n,r){if(n)t.reject(n);else t.resolve({call:e,offspringObject:r})});r.createArtifacts.apply(r,arguments);return t.promise}function g(e){var t=[];var n=[];var r=[];for(var i=0;i<e;i++){t.push([]);n.push([])}return{offspring:t,parentIxs:n}}function y(e,t,n,r,i,s){var o,u;var a=[];if(t==undefined){var f=g(r.count);o=f.offspring;u=f.parentIxs}else{if(t.offspring){o=t.offspring;u=t.parentIxs}else{var f=g(r.count);o=f.offspring;u=f.parentIxs}}return{promises:a,offspring:o,parentIxs:u}}function b(e,t,n,r,i,s){var o,u;var a=[];if(t==undefined){a.push(m(e.objectPath,e.schemaType,r.count,i,s))}else{if(t.offspring){o=t.offspring;u=t.parentIxs}else{a.push(m(e.objectPath,e.schemaType,r.count,i,s))}}return{promises:a,offspring:o,parentIxs:u}}function w(e){var t={};s(e).forEach(function(){if(this.isRoot)return;if(!t[this.node]){t[this.node]=true}else this.remove()})}function E(e,t){var n=[];for(var r=0;r<t.length;r++){var i=t[r];var s=[];for(var o=0;o<i.length;o++){var u=i[o];var a={};if(u.dataPath)a.dataPath=u.dataPath;a.message=u.message;s.push(a)}n.push(s)}return{message:e,errors:n}}function S(e,t,n,i){for(var s=0;s<t.length;s++){var u=i[s];var a=t[s];var f=o();a.wid=f;a.dbType=e;var l=[];if(!u.length){for(var c=0;c<n.length;c++)u.push(c)}for(var c=0;c<u.length;c++){var h=n[u[c]];if(!h){r.log("Invalid parentIx: "+u[c]+" only "+n.length+" parents");throw new Error("Invalid parentIx: "+u[c]+" only "+n.length+" parents")}else if(!h.wid){r.log("Parent is unidentified: "+u[c]);r.log(h);throw new Error("Error creating artifacts -- parents do not have WID identifiers, a necessary nutrient")}l.push(h.wid)}a.parents=l}}var r=this;r.bb=e;r.pathDelimiter="///";r.rEvents={schema:{validate:"schema:validate",validateMany:"schema:validateMany",getFullSchema:"schema:getFullSchema",getSchemaReferences:"schema:getSchemaReferences",getSchemaProperties:"schema:getSchemaProperties"},encoding:{}};i(r,t,n);r.backEmit=e.getEmitter(r);r.validateParents=n.validateParents||false;r.validateOffspring=n.validateOffspring||false;var a=function(e){return r.winFunction+":"+e};r.eventCallbacks=function(){var e={};e[a("createArtifacts")]=r.createArtifacts;return e};var f=function(){var e=u.defer();var t=arguments;var n=function(t){if(t){e.reject(t)}else{[].shift.call(arguments);if(arguments.length>1)e.resolve(arguments);else e.resolve.apply(e,arguments)}};[].push.call(t,n);r.backEmit.apply(r.bb,t);return e.promise};var l=function(e,t){return"encoding:"+e+"-"+t};var c=function(e,t){return r.backEmit.hasListeners(l(e,t))};var h=function(e){return c(e,"createFullOffspring")};var p=function(e){var t={};e.forEach(function(e){r.log(this);if(!this.isLeaf&&e.ref){t[this.path]=e.type}});return t};r.processArtifactReferences=function(e,t,n){};var d=function(e,t,n){var i=u.defer();if(n){r.backEmit.emit("schema:validateMany",e,t,function(e,t,n){if(e)i.reject(e);else i.resolve({valid:t,errors:n})})}else{setTimeout(function(){i.resolve(true)})}return i.promise};r.qOffspringNonReferences=function(e,t,n,i){return u.fcall(function(){var n=[];var i=[];var o=e.primaryPaths;var u=t.count;var a=Object.keys(o);a.sort(function(e,t){return e.length-t.length});for(var f=0;f<u;f++)i.push([]);var l=[];for(var c=0;c<u;c++){var h,p;for(var f=0;f<a.length;f++){var d=a[f];var m=o[d].type;if(d==""){h=v(m);p=s(h)}else{p.set(d.split(r.pathDelimiter),v(m))}}n.push(h)}r.log("required: ",t.count);r.log("paths: ",a);return[n,i]})};r.qCreateOffspringReferences=function(e,t,n,i,o){var a=n.count;var h=n.type;var p=t.references;var d=[];var v={};var m=[];var g=e.offspring;if(g.length!=a)throw new Error("By reference creation, there should be the appropriate number of Offspring:"+a+" Not: "+g.length);var E=[];for(var S=0;S<g.length;S++)E.push(s(g[S]));for(var x in p){var T=p[x];for(var N=0;N<T.length;N++){var C=T[N];d.push(C.objectPath);v[C.objectPath]=C}}var k=s(t.fullSchema);var L={};var A=i.parents;var O=[];A.forEach(function(e){O.push(s(e))});var M={};for(var _ in v){var D=[];for(var P=0;P<A.length;P++){var H=O[P].get(_.split(r.pathDelimiter));D.push(H)}M[_]=D}r.log(r.log.testing,"[generator] processing references: ",d);return u.fcall(function(){if(c(h,"chooseReferenceBehavior")){return f(l(h,"chooseReferenceBehavior"),d,n,i,o)}else{return{}}}).then(function(e){e=e||{};if(e.length)e=e[0];var i=[];for(var s in v){var a=v[s];var f=e[s];var l;var c=k.get(a.typePath.split(r.pathDelimiter));r.log("Ref ",c);if(c.type=="array"||c.items){l=y(a,f,t,n,M[s],o)}else{l=b(a,f,t,n,M[s],o)}if(l.offspring)L[s]={offspring:l.offspring,parentIxs:l.parentIxs};i=i.concat(l.promises)}if(i.length)return u.allSettled(i);else return[]}).then(function(t){for(var n=0;n<t.length;n++){var i=t[n];if(i.state!="fulfilled"){throw new Error("Promise failed: "+JSON.stringify(i.reason))}var s=i.value;var o=s.call;L[o]=s.offspringObject}var u=e.parentIxs;for(var f in v){var l=L[f];if(!l||!l.offspring||l.offspring.length!=a){throw new Error("Child objects not created properly: "+f+" err: "+(l&&l.offspring?" wrong number of Offspring "+l.offspring.length:"-- no Offspring found"))}var c=f.split(r.pathDelimiter);for(var h=0;h<a;h++){E[h].set(c,l.offspring[h]);u[h]=u[h].concat(l.parentIxs[h]);w(u[h])}}}).fail(function(e){throw e})};r.qCreateOffspring=function(e,t,n,i,s){var o=u.defer();var a,h;var p=n.count;u.fcall(function(){if(c(e,"createNonReferenceOffspring")){return f(l(e,"createNonReferenceOffspring"),n,i,s)}else{return r.qOffspringNonReferences(t,n,i,s)}}).then(function(e){a=e[0];h=e[1];if(!a||a.length!=p||!h||h.length!=p){throw new Error("CreateNonReference: offspring and parent arrays returned must be non-empty equal to count: "+p)}var o={offspring:a,parentIxs:h};var u=Object.keys(t.references).length;if(u)return r.qCreateOffspringReferences(o,t,n,i,s);else return}).then(function(){o.resolve([a,h])}).fail(function(e){o.reject(e)});return o.promise};r.createArtifacts=function(e,t,n,i,s){if(typeof e!="string"||!Array.isArray(n)||typeof t!="number"){s("Create artifacts requires type [string], count [number], parents [array]");return}if(typeof i=="function"){s=i;i=undefined}r.log("[generator] creating ",t," artifacts of type ",e);if(!e||!t||!n||!n.length||!s){s("Improper create artifacts inputs: type [string], count [Number], parents [array >= size(1)], callback [function]");return}r.log("[generator] beginning to create "+t+' artifacts of type "'+e+'" ');var o=false;var a,c;var p={count:t,type:e};var v={parents:n};var m;d(e,n,r.validateParents).then(function(t){if(!t.valid){s(E("Parent schema doesn't match type: "+e,t.errors));o=true;return}if(r.validateParents)r.log("[generator] validated parents successfully");var n=[];n.push(f("schema:getFullSchema",e),f("schema:getSchemaReferences",e),f("schema:getSchemaProperties",e));return u.allSettled(n)}).then(function(t){if(o)return;if(t[0].state!="fulfilled"||t[1].state!="fulfilled"||t[2].state!="fulfilled"){s({message:"Failed  to get full schema and references",errors:[t[0].reason,t[1].reason,t[2].reason]});return}var n=t[0].value[0];var u=t[1].value[0];var a=t[2].value[0];m={fullSchema:n,primaryPaths:a.primaryPaths,properties:a.properties,references:u};if(h(e)){r.log(r.log.testing,"[generator] calling createFullOffspring for "+e);return f(l(e,"createFullOffspring"),p,v,i)}else{r.log(r.log.testing,"[generator] internally creating offspring for "+e);return r.qCreateOffspring(e,m,p,v,i)}}).then(function(i){if(o)return;a=i[0];c=i[1];var u=m.properties.isWIN;if(!a||u&&!c){o=true;r.log("Undefined: ",arguments);s({message:"Offspring or parent information cannot be undefined after child creation!"});return}else if(a.length!=t){o=true;s({message:"Wrong offspring count: "+a.length+" instead of (expected) "+t});return}else if(u&&c.length!=t){o=true;s({message:"Wrong parent information count: "+c.length+" instead of (expected) "+t});return}if(m.properties.isWIN)S(e,a,n,c);r.log("offspring returned: ",a,"\nparents: ",c);return d(e,a,r.validateOffspring)}).then(function(t){if(o)return;if(!t.valid){o=true;s(E("Offspring failed validation: "+e,t.errors));return}else{s(undefined,{offspring:a,parentIxs:c})}}).fail(function(e){r.log("Failed create artifacts: ",e);r.log(r.log.testing,e.stack);s(E(e.message,[]))})};return r}var r=t("win-utils");var i=t("./module/backbone.js");var s=t("optimuslime-traverse");var o=t("win-utils").cuid;var u=t("q");var a=r.cuid;var f=r.math;n.exports=l});require.register("optimuslime-win-gen/lib/module/backbone.js",function(e,t,n){function r(e,t,n){e.winFunction="generator";e.log=e.bb.getLogger(e);e.log.logLevel=n.logLevel||e.log.normal;var r=n.encodings||[];var i=e.rEvents["encoding"];e.optionalEvents=function(){var e=[];for(var t=0;t<r.length;t++){var n=r[t];e.push("encoding:"+n+"-createFullOffspring");e.push("encoding:"+n+"-arraySelection");e.push("encoding:"+n+"-createNonReferenceOffspring");e.push("encoding:"+n+"-chooseReferenceBehavior")}return e};e.requiredEvents=function(){var t=[];var n=e.rEvents;for(var r in n){for(var i in n[r]){t.push(n[r][i])}}e.log("Required gen events: ",t);return t};e.initialize=function(e){setTimeout(function(){e()},0)}}n.exports=r});require.register("optimuslime-win-utils/winutils.js",function(e,t,n){var r={};n.exports=r;r.cuid=t("./uuid/cuid.js");r.math=t("./math/winmath.js")});require.register("optimuslime-win-utils/uuid/cuid.js",function(e,t,n){var r=0,i=4,s=36,o=Math.pow(s,i),u=function(t,n){var r="000000000"+t;return r.substr(r.length-n)},a=function(){return u((Math.random()*o<<0).toString(s),i)},f=function(){var t="c",n=(new Date).getTime().toString(s),l,h=f.fingerprint(),p=a()+a()+a()+a();r=r<o?r:0;l=u(r.toString(s),i);r++;return t+n+l+h+p};f.slug=function(){var t=(new Date).getTime().toString(36),n=r.toString(36).slice(-1),i=f.fingerprint().slice(0,1)+f.fingerprint().slice(-1),s=a().slice(-1);r++;return t.slice(2,4)+t.slice(-2)+n+i+s};var l=typeof process=="undefined";f.fingerprint=l?function(){return u((navigator.mimeTypes.length+navigator.userAgent.length).toString(36)+f.globalCount().toString(36),4)}:function(){var n=t("os"),r=2,i=u(process.pid.toString(36),r),s=n.hostname(),o=s.length,a=u(s.split("").reduce(function(e,t){return+e+t.charCodeAt(0)},+o+36).toString(36),r);return i+a};f.globalCount=function(){var t=function(){var t,n=0;for(t in window){n++}return n}();f.globalCount=function(){return t};return t};f.isLessThan=function(e,t){var n=parseInt(e);var r=parseInt(t);if(isNaN(n)&&isNaN(r)){var o=6*i;var u=5*i;var a=1;var f=parseInt(e.slice(a,e.length-o),s);var l=parseInt(e.slice(e.length-o,e.length-u),s);var c=parseInt(t.slice(a,t.length-o),s);var h=parseInt(t.slice(t.length-o,t.length-u),s);return f<c||f==c&&l<h}else if(isNaN(r)){return true}else{return n<r}};n.exports=f});require.register("optimuslime-win-utils/math/winmath.js",function(e,t,n){var r={};n.exports=r;r.next=function(e){return Math.floor(Math.random()*e)}});require.register("cppn-additions/cppn-additions.js",function(e,t,n){function i(){var e=this;e.winFunction="cppnAdditions";e.requiredEvents=function(){return[]};e.eventCallbacks=function(){return{}};e.initialize=function(t){e.addCPPNFunctionsToLibrary();t()};var t={sigmoid:"PBBipolarSigmoid",gaussian:"PBGaussian",sine:"Sine",cos:"PBCos",identity:"pbLinear"};e.addCPPNFunctionsToLibrary=function(){var e=r.cppnActivationFunctions;var n=r.cppnActivationFactory;e[t.sigmoid]=function(){return new e.ActivationFunction({functionID:t.sigmoid,functionString:"2.0/(1.0+(exp(-inputSignal))) - 1.0",functionDescription:"Plain sigmoid [xrange -5.0,5.0][yrange, 0.0,1.0]",functionCalculate:function(e){return 2/(1+Math.exp(-e))-1},functionEnclose:function(e){return"(2.0/(1.0+(Math.exp(-1.0*"+e+"))) - 1.0)"}})};e[t.gaussian]=function(){return new e.ActivationFunction({functionID:t.gaussian,functionString:"2*e^(-(input)^2) - 1",functionDescription:"bimodal gaussian",functionCalculate:function(e){return 2*Math.exp(-Math.pow(e,2))-1},functionEnclose:function(e){return"(2.0 * Math.exp(-Math.pow("+e+", 2.0)) - 1.0)"}})};e[t.identity]=function(){return new e.ActivationFunction({functionID:t.identity,functionString:"x",functionDescription:"Linear",functionCalculate:function(e){return e},functionEnclose:function(e){return"("+e+")"}})};e[t.cos]=function(){return new e.ActivationFunction({functionID:t.cos,functionString:"Cos(inputSignal)",functionDescription:"Cos function with normal period",functionCalculate:function(e){return Math.cos(e)},functionEnclose:function(e){return"(Math.cos("+e+"))"}})};var i={};i[t.sigmoid]=.22;i[t.gaussian]=.22;i[t.sine]=.22;i[t.cos]=.22;i[t.identity]=.12;n.setProbabilities(i)};return e}n.exports=i;var r=t("cppnjs")});require.register("win-setup/win-setup.js",function(e,t,n){function r(e,n,r,i){var s=t("win-backbone");var o=t("q");var u,a,f,l;var c={winFunction:"experiment",eventCallbacks:function(){return{}},requiredEvents:function(){return e}};n["setupExperiment"]=c;var h=function(){var e=o.defer();var t=arguments;var n=function(t){if(t){l("QCall fail: ",t);e.reject(t)}else{[].shift.call(arguments);if(arguments.length>1)e.resolve(arguments);else e.resolve.apply(e,arguments)}};[].push.call(t,n);f.apply(f,t);return e.promise};u=new s;u.logLevel=u.testing;f=u.getEmitter(c);l=u.getLogger({winFunction:"experiment"});l.logLevel=u.testing;u.loadModules(n,r);var p=u.registeredEvents();var e=u.moduleRequirements();l("Backbone Events registered: ",p);l("Required: ",e);u.initializeModules(function(e){l("Finished Module Init");i(e,{logger:l,emitter:f,backbone:u,qCall:h})})}n.exports=r});require.register("pbencoding/picbreeder-encoding.js",function(e,t,n){function i(e,t,n){var i=this;i.winFunction="encoding";i.encodingName="picbreeder";i.log=e.getLogger(i);i.log.logLevel=n.logLevel||i.log.normal;i.eventCallbacks=function(){return{}};i.requiredEvents=function(){return["schema:addSchema"]};i.initialize=function(t){i.log("Init win-iesor encoding");var n=e.getEmitter(i);n.emit("schema:addSchema",i.encodingName,r,function(e){if(e){t(new Error(e));return}t()})};return i}var r=t("./picbreederSchema.js");n.exports=i});require.register("pbencoding/picbreederSchema.js",function(e,t,n){n.exports={genome:{$ref:"NEATGenotype"}}});require.register("win-flexiec/win-flexIEC.js",function(e,t,n){function o(e,t,n){var i=this;i.winFunction="ui";i.backEmit=e.getEmitter(i);i.log=e.getLogger(i);i.log.logLevel=n.logLevel||i.log.normal;i.moreThanOneDisplay=n.moreThanOneDisplay||false;i.htmlEvoObjects={};i.requiredEvents=function(){return["evolution:loadSeeds","evolution:getOrCreateOffspring","evolution:selectParents","evolution:unselectParents"]};i.eventCallbacks=function(){return{"ui:initializeDisplay":i.initializeDiv,"ui:ready":i.ready}};var o=0;var u=false;var a={};i.chooseRandomSeed=function(e){var t=Object.keys(e);var n=Math.floor(Math.random()*t.length);return t[n]};i.initializeDiv=function(e,t,n,f){if(u&&i.moreThanOneDisplay)return;if(!e.length){f("Must send at least 1 seed to initialization -- for now");return}if(e.length>1)i.log("Undefined behavior with more than one seed in this UI object. You were warned, sorry :/");n=n||{};u=true;var l=e.length;n.startIx=Math.max(l,n.startIx||0);var c={};for(var h=0;h<e.length;h++)c[""+h]=e[h];var p=new r(t,n);var d={};s(d);p.on("parentSelected",function(e,t,n){i.backEmit("evolution:selectParents",[e],function(r,i){var s=i[e];d.emit("parentSelected",e,t,s,n)})});p.on("parentUnselected",function(e){i.backEmit("evolution:unselectParents",[e],function(t){d.emit("parentUnselected",e);i.log("act pars: ",p.activeParents());if(p.activeParents()==0)p.createParent(i.chooseRandomSeed(c))})});p.on("createIndividual",function(e,t,n){i.backEmit("evolution:getOrCreateOffspring",[e],function(r,s){var o=s[e];i.log("Create ind. create returned: ",s);d.emit("individualCreated",e,t,o,n)})});i.backEmit("evolution:loadSeeds",c,function(e){if(e){f(e)}else{var t=o++;var n={uID:t,ui:p,emitter:d,seeds:c};a[t]=n;f(undefined,n)}})};i.ready=function(e,t){var n=a[e];var r=n.ui;var s=i.chooseRandomSeed(n.seeds);r.createParent(s);r.ready()};return i}var r=t("flexIEC");var i=t("win-iec");var s=t("emitter");n.exports=o});require.register("optimuslime-el.js/el.js",function(e,t,n){function r(e,t,n){var r=/([a-z]+|#[\w-\d]+|\.[\w\d-]+)/g;if(arguments.length===2){if(t instanceof Array||typeof t==="function"||typeof t==="string"||t.constructor!==Object){n=t;t=undefined}}t=typeof t!=="undefined"?t:{};n=typeof n!=="undefined"?n:[];n=n instanceof Array?n:[n];matched=e.match(r);e=matched[0];matched.shift();for(var i in matched){if(matched[i][0]=="."){if(t["class"]==undefined){t["class"]=matched[i].substring(1,matched[i].length)}else{t["class"]=t["class"]+" "+matched[i].substring(1,matched[i].length)}}else if(matched[i][0]=="#"){if(t["id"]==undefined){t["id"]=matched[i].substring(1,matched[i].length)}else{t["id"]=t["id"]+" "+matched[i].substring(1,matched[i].length)}}}var s=document.createElement(e);for(var o=0;o<n.length;o+=1){(function(e){switch(typeof e){case"object":s.appendChild(e);break;case"function":var t=false;var n=function(n){if(!t){s.appendChild(n)}};var r=e.apply(null,[n]);if(typeof r!="undefined"){t=true;s.appendChild(r)}break;case"string":s.appendChild(document.createTextNode(e));default:}})(n[o])}for(var u in t){if(t.hasOwnProperty(u)){s.setAttribute(u,t[u])}}return s}n.exports=r;r.create=r.c=r;r.img=function(e){return r.create("img",e)};r.a=function(e,t){return r.create("a",e,t)};r.div=function(e,t){return r.create("div",e,t)};r.p=function(e,t){return r.create("p",e,t)};r.input=function(e,t){return r.create("input",e)}});require.register("flexstatic/main.js",function(e,t,n){function s(e,t){function b(e){return e+n.startIx}function w(e){var t=S(e);v[e]=t;m++;n.emit("elementCreated",b(e),t);return t}var n=this;console.log("POP POP!!d!");if(!t||!t.objectSize||!t.objectSize.width||!t.objectSize.height)throw new Error("Can't use flexforever without options or objectSize");t=JSON.parse(JSON.stringify(t));r(n);n.uid="iec"+i++;n.objectSize=t.objectSize;t.extraHeightPerObject=t.extraHeightPerObject||0;n.startIx=t.startIx||0;n.objectSize.height=n.objectSize.height+t.extraHeightPerObject;var s=n.uid+"-fstatic-#@#";var o=s.replace(/#@#/g,"container");var u=s.replace(/#@#/g,"wrapper");e.innerHTML='<div id="'+o+'" class="fstat-container">'+"</div>";n.borderSize=1;var a=document.querySelector("#"+o);var f=function(){return Math.floor(a.offsetWidth/(n.objectSize.width+2*(n.objectSize.rowMargin||0)))};var l=function(){return Math.floor(a.offsetHeight/(n.objectSize.height+2*(n.objectSize.columnMargin||0)))};var c=function(){return Math.max(f()*l(),0)};var h,p,d;var v={};var m=0;var g=0;var y=false;n.initialize=function(){if(y)return;y=true;var e=n.uid+"-flex-inner";a.innerHTML='<div id="'+e+'" class="flexvcenter" style="border: 1px solid black; height:100%;"></div>';d=document.querySelector("#"+e);var t=c();p=0;for(var r=0;r<t;r++){var i=w(r);g++;d.appendChild(i)}};n.removeExcessChildren=function(){var e=[];for(var t=g;t<d.children.length;t++){e.push(d.children[t])}e.forEach(function(e){d.removeChild(e)})};n.previousPage=function(){if(p==0)return;var e=c();for(var t=p;t<p+g;t++){n.emit("elementHidden",b(t),v[t])}var r=Math.min(p,e);p-=r;g=r;for(var t=p;t<p+r;t++){var i=v[t];n.emit("elementVisible",b(t));if(d.children.length>t-p)d.replaceChild(i,d.children[t-p]);else d.appendChild(i)}n.removeExcessChildren()};n.nextPage=function(){var e=c();console.log("Maxpp: ",e);for(var t=p;t<p+g;t++){n.emit("elementHidden",b(t),v[t])}p+=g;g=e;for(var t=p;t<p+e;t++){var r=v[t];if(r){n.emit("elementVisible",b(t),r)}else{r=w(t)}if(d.children.length>t-p)d.replaceChild(r,d.children[t-p]);else d.appendChild(r)}n.removeExcessChildren()};var E=function(e){return n.uid+"-object-"+b(e)};var S=function(e){var t=document.createElement("div");var r=E(e);t.id=r;t.style.width=n.objectSize.width+"px";t.style.height=n.objectSize.height+"px";t.style.marginLeft=n.objectSize.rowMargin+"px"||0;t.style.marginRight=n.objectSize.rowMargin+"px"||0;t.style.marginTop=n.objectSize.columnMargin+"px"||0;t.style.marginBottom=n.objectSize.columnMargin+"px"||0;t.className+="border";t.style.overflow="hidden";return t};return n}var r=t("emitter");n.exports=s;var i=0});require.register("ramitos-resize/src/resize.js",function(e,t,n){var r={};n.exports.bind=function(e,t,n){if(!r[e])r[e]={};var i=e.offsetHeight;var s=e.offsetWidth;if(!n)n=250;r[e][t]=setInterval(function(){if(s===e.offsetWidth&&i===e.offsetHeight)return;i=e.offsetHeight;s=e.offsetWidth;t(e)},n)};n.exports.unbind=function(e,t){if(!r[e][t])return;clearInterval(r[e][t])}});require.register("flexparents/main.js",function(e,t,n){function o(e,t){function d(e,t){var r=g(e);h[e]=r;p[e]=t;c++;n.emit("elementCreated",t,e,r);return r}var n=this;if(!t||!t.objectSize||!t.objectSize.width||!t.objectSize.height)throw new Error("Can't use flexforever without options or objectSize");t=JSON.parse(JSON.stringify(t));n.append=t.append||false;r(n);n.uid="plist"+s++;n.objectSize=t.objectSize;n.autoDetermineMax=t.autoDetermineMax==undefined?true:t.autoDetermineMax;n.maxItemCount=t.maxItemCount||Number.MAX_VALUE;t.extraHeightPerObject=t.extraHeightPerObject||0;n.objectSize.height=n.objectSize.height+t.extraHeightPerObject;var o=n.uid+"-#@#";var u=o.replace(/#@#/g,"container");e.innerHTML="<div id="+u+' class="plist-container parentflex" style="border: 1px solid black; height:100%;">'+"</div>";var a=document.querySelector("#"+u);var f=function(){return Math.floor(a.offsetHeight/(n.objectSize.height+2*(n.objectSize.columnMargin||0+n.borderSize)))};if(n.autoDetermineMax){n.maxItemCount=f()}i.bind(a,function(){if(n.autoDetermineMax)n.maxItemCount=f();if(c>n.maxItemCount){var e=Math.max(1,n.maxItemCount);for(var t=e;t<c;t++){n.removeOldest()}}});n.borderSize=1;var l=0;var c=0;var h={};var p={};n.activeParents=function(){return c};n.addElement=function(e){var t=l++;var r=d(t,e);if(c>n.maxItemCount)n.removeOldest();if(!n.append)a.insertBefore(r,a.firstChild);else a.append(r)};n.removeOldest=function(){var e=Object.keys(h);e.sort(function(e,t){return parseInt(e)-parseInt(t)});var t=e[0];n.removeElement(t)};n.removeElement=function(e){var t=h[e];var r=p[e];c--;n.emit("elementRemoved",r,e);a.removeChild(t);delete h[e];delete p[e]};n.removeRandom=function(){var e=Object.keys(h);var t=Math.floor(Math.random()*e.length);n.removeElement(e[t])};var v=function(e){return n.uid+"-object-"+e};var m=function(e){var t=v(e);return h[t]};var g=function(e){var t=document.createElement("div");var r=v(e);t.id=r;t.style.width=n.objectSize.width+"px";t.style.height=n.objectSize.height+"px";t.style.marginLeft=n.objectSize.rowMargin+"px"||0;t.style.marginRight=n.objectSize.rowMargin+"px"||0;t.style.marginTop=n.objectSize.columnMargin+"px"||0;t.style.marginBottom=n.objectSize.columnMargin+"px"||0;t.className+="border pobject";t.style.overflow="hidden";return t};return n}var r=t("emitter");var i=t("resize");n.exports=o;var s=0});require.register("component-event/index.js",function(e,t,n){var r=window.addEventListener?"addEventListener":"attachEvent",i=window.removeEventListener?"removeEventListener":"detachEvent",s=r!=="addEventListener"?"on":"";e.bind=function(e,t,n,i){e[r](s+t,n,i||false);return n};e.unbind=function(e,t,n,r){e[i](s+t,n,r||false);return n}});require.register("component-query/index.js",function(e,t,n){function r(e,t){return t.querySelector(e)}e=n.exports=function(e,t){t=t||document;return r(e,t)};e.all=function(e,t){t=t||document;return t.querySelectorAll(e)};e.engine=function(t){if(!t.one)throw new Error(".one callback required");if(!t.all)throw new Error(".all callback required");r=t.one;e.all=t.all;return e}});require.register("component-matches-selector/index.js",function(e,t,n){function o(e,t){if(s)return s.call(e,t);var n=r.all(t,e.parentNode);for(var i=0;i<n.length;++i){if(n[i]==e)return true}return false}var r=t("query");var i=Element.prototype;var s=i.matches||i.webkitMatchesSelector||i.mozMatchesSelector||i.msMatchesSelector||i.oMatchesSelector;n.exports=o});require.register("discore-closest/index.js",function(e,t,n){var r=t("matches-selector");n.exports=function(e,t,n,i){e=n?{parentNode:e}:e;i=i||document;while((e=e.parentNode)&&e!==document){if(r(e,t))return e;if(e===i)return}}});require.register("component-delegate/index.js",function(e,t,n){var r=t("closest"),i=t("event");e.bind=function(e,t,n,s,o){return i.bind(e,n,function(n){var i=n.target||n.srcElement;n.delegateTarget=r(i,t,true,e);if(n.delegateTarget)s.call(e,n)},o)};e.unbind=function(e,t,n,r){i.unbind(e,t,n,r)}});require.register("component-events/index.js",function(e,t,n){function s(e,t){if(!(this instanceof s))return new s(e,t);if(!e)throw new Error("element required");if(!t)throw new Error("object required");this.el=e;this.obj=t;this._events={}}function o(e){var t=e.split(/ +/);return{name:t.shift(),selector:t.join(" ")}}var r=t("event");var i=t("delegate");n.exports=s;s.prototype.sub=function(e,t,n){this._events[e]=this._events[e]||{};this._events[e][t]=n};s.prototype.bind=function(e,t){function l(){var e=[].slice.call(arguments).concat(f);u[t].apply(u,e)}var n=o(e);var s=this.el;var u=this.obj;var a=n.name;var t=t||"on"+a;var f=[].slice.call(arguments,2);if(n.selector){l=i.bind(s,n.selector,a,l)}else{r.bind(s,a,l)}this.sub(a,t,l);return l};s.prototype.unbind=function(e,t){if(0==arguments.length)return this.unbindAll();if(1==arguments.length)return this.unbindAllOf(e);var n=this._events[e];if(!n)return;var i=n[t];if(!i)return;r.unbind(this.el,e,i)};s.prototype.unbindAll=function(){for(var e in this._events){this.unbindAllOf(e)}};s.prototype.unbindAllOf=function(e){var t=this._events[e];if(!t)return;for(var n in t){this.unbind(e,n)}}});require.register("component-indexof/index.js",function(e,t,n){n.exports=function(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0;n<e.length;++n){if(e[n]===t)return n}return-1}});require.register("component-classes/index.js",function(e,t,n){function o(e){if(!e)throw new Error("A DOM element reference is required");this.el=e;this.list=e.classList}var r=t("indexof");var i=/\s+/;var s=Object.prototype.toString;n.exports=function(e){return new o(e)};o.prototype.add=function(e){if(this.list){this.list.add(e);return this}var t=this.array();var n=r(t,e);if(!~n)t.push(e);this.el.className=t.join(" ");return this};o.prototype.remove=function(e){if("[object RegExp]"==s.call(e)){return this.removeMatching(e)}if(this.list){this.list.remove(e);return this}var t=this.array();var n=r(t,e);if(~n)t.splice(n,1);this.el.className=t.join(" ");return this};o.prototype.removeMatching=function(e){var t=this.array();for(var n=0;n<t.length;n++){if(e.test(t[n])){this.remove(t[n])}}return this};o.prototype.toggle=function(e,t){if(this.list){if("undefined"!==typeof t){if(t!==this.list.toggle(e,t)){this.list.toggle(e)}}else{this.list.toggle(e)}return this}if("undefined"!==typeof t){if(!t){this.remove(e)}else{this.add(e)}}else{if(this.has(e)){this.remove(e)}else{this.add(e)}}return this};o.prototype.array=function(){var e=this.el.className.replace(/^\s+|\s+$/g,"");var t=e.split(i);if(""===t[0])t.shift();return t};o.prototype.has=o.prototype.contains=function(e){return this.list?this.list.contains(e):!!~r(this.array(),e)}});require.register("flexiec/main.js",function(e,t,n){function c(e,t){var n=this;if(!t||!t.evoOptions||!t.parentOptions)throw new Error("Can't use flexforever without options or objectSize");t=JSON.parse(JSON.stringify(t));t.evoOptions.startIx=t.startIx||t.evoOptions.startIx||0;n.bottomElementSize=t.bottomElementSize||47;r(n);n.uid="flexIEC"+l++;n.objectSize=t.objectSize;var c=n.uid+"-#@#";var h=c.replace(/#@#/g,"container");e.innerHTML="<div id="+h+' class="iec-container flexIEC border" style="height:100%;">'+"</div>";var p=document.querySelector("#"+h);i.bind(p,function(){});var d=u("div",{id:"test","class":"container fullWH pOR"});var v=u("div",{id:"test","class":"row mOR fullWH"});var m,g;var y={};var b={};var w={};var E={};n.createEvolutionGrid=function(){var e=u("div",{id:"evo-col","class":"col-auto fullWH colObject border mOR pOR"});var t=u("div",{id:"evoTabs","class":"tabs row mOR"});var n=u("div",{id:"evo-bot","class":"innerObject colObject"});g=n;e.appendChild(t);e.appendChild(n);return e};n.createParentList=function(){var e=u("div",{id:"parent-col",style:"width: "+(t.parentOptions.objectSize.width+25)+"px","class":"col-xs-3 fullWH colObject border mOR pOR"});var n=u("div",{id:"p-top","class":""});var r=u("div",{id:"p-bot","class":"innerObject colObject border"});var i=u("div",{id:"p-top-choice","class":"border"});i.innerHTML="Parent Artifacts";n.appendChild(i);e.appendChild(n);e.appendChild(r);m=r;return e};n.createParent=function(e){n.parentFlex.addElement(e)};n.deleteParent=function(e){var t=E[e];n.parentFlex.removeElement(t.pID)};n.parentDeleted=function(e,t){var r=w[e];console.log("Deleted parent: ",e,r);if(r){var i=s(r);if(i.has("like"))i.toggle("like")}delete E[e];n.emit("parentUnselected",e)};var S=function(e){return function(){}};n.parentCreated=function(e,t,r){var i=w[e];if(i){var o=s(i);if(!o.has("like"))o.toggle("like")}E[e]={pID:t,el:r};n.emit("parentSelected",e,r,S(e))};n.likeElement=function(e){var t=e.target.id||e.target.parentElement.id;var r=t.replace(/-like/g,"");if(E[r]){n.deleteParent(r)}else{n.createParent(r)}};n.publishElement=function(e){var t=e.target.id||e.target.parentElement.id;console.log("Pub: ",e.target.id.replace(/-publish/g,""))};n.createLoadingWrapper=function(e){var t=u("div",{id:e+"-wrap","class":"colObject"});var r=u("div",{id:e+"-object","class":"loading innerObject"});var i=u("div",{id:e+"-bot",style:"height: "+n.bottomElementSize+"px;","class":"row mOR border"});var s=u("div",{id:e+"-like","class":"col-auto pOR border"},u("div","like"));var a=u("div",{id:e+"-publish","class":"col-auto pOR border"},u("div","pub"));var f=o(s,n);var l=o(a,n);f.bind("click","likeElement");l.bind("click","publishElement");i.appendChild(s);i.appendChild(a);t.appendChild(r);t.appendChild(i);return{full:t,object:r}};var x=n.createParentList();var T=n.createEvolutionGrid();v.appendChild(x);v.appendChild(T);d.appendChild(v);p.appendChild(d);n.parentFlex=new f(m,t.parentOptions||{});n.parentFlex.on("elementCreated",n.parentCreated);n.parentFlex.on("elementRemoved",n.parentDeleted);n.evoFlex=new a(g,t.evoOptions||{});n.activeParents=function(){return n.parentFlex.activeParents()};n.individualLoaded=function(e){return function(){var t=y[e];var n=s(t);if(n.has("loading"))n.toggle("loading");for(var r=0;r<t.children.length;r++){var n=s(t.children[r]);if(n.has("loading"))n.toggle("loading")}b[e]=t;delete y[e]}};n.evoFlex.on("elementCreated",function(e,t){var r=n.createLoadingWrapper(e);t.appendChild(r.full);w[e]=t;y[e]=r.object;n.emit("createIndividual",e,r.object,n.individualLoaded(e))});n.evoFlex.on("elementVisible",function(e){console.log("Visible: ",e)});n.evoFlex.on("elementHidden",function(e){console.log("Hidden: ",e)});n.ready=function(){n.evoFlex.initialize()};return n}var r=t("emitter");var i=t("resize");var s=t("classes");var o=t("events");var u=t("el.js");var a=t("flexstatic");var f=t("flexparents");n.exports=c;var l=0});require.register("win-Picbreeder/win-Picbreeder.js",function(e,t,n){var r=t("flexStatic");console.log("Static a go!")});require.register("win-Picbreeder/seeds/seed1.js",function(e,t,n){n.exports={wid:"0",dbType:"picbreeder",parents:[],genome:{wid:"0",dbType:"NEATGenotype",parents:[],nodes:[{gid:"0",activationFunction:"pbLinear",nodeType:"Bias",layer:0,step:0,bias:0},{gid:"1",activationFunction:"pbLinear",nodeType:"Input",layer:0,step:0,bias:0},{gid:"2",activationFunction:"pbLinear",nodeType:"Input",layer:0,step:0,bias:0},{gid:"3",activationFunction:"pbLinear",nodeType:"Input",layer:0,step:0,bias:0},{gid:"4",activationFunction:"Sine",nodeType:"Output",layer:10,step:0,bias:0},{gid:"5",activationFunction:"PBBipolarSigmoid",nodeType:"Output",layer:10,step:0,bias:0},{gid:"6",activationFunction:"Sine",nodeType:"Output",layer:5,step:0,bias:0}],connections:[{gid:"0",weight:-2.2932328903588797,sourceID:"2",targetID:"6"},{gid:"6",weight:1.7608415005951437,sourceID:"6",targetID:"4"},{gid:"7",weight:-1.314796165604506,sourceID:"6",targetID:"5"},{gid:"22",weight:-.6256643214242532,sourceID:"3",targetID:"6"}]}}});require.alias("optimuslime-win-iec/lib/win-iec.js","win-Picbreeder/deps/win-iec/lib/win-iec.js");require.alias("optimuslime-win-iec/lib/win-iec.js","win-Picbreeder/deps/win-iec/index.js");require.alias("optimuslime-win-iec/lib/win-iec.js","win-iec/index.js");require.alias("optimuslime-win-iec/lib/win-iec.js","optimuslime-win-iec/index.js");require.alias("optimuslime-win-neat/lib/neatSchema.js","win-Picbreeder/deps/win-neat/lib/neatSchema.js");require.alias("optimuslime-win-neat/lib/win-neat.js","win-Picbreeder/deps/win-neat/lib/win-neat.js");require.alias("optimuslime-win-neat/lib/win-neat.js","win-Picbreeder/deps/win-neat/index.js");require.alias("optimuslime-win-neat/lib/win-neat.js","win-neat/index.js");require.alias("optimuslime-neatjs/neat.js","optimuslime-win-neat/deps/neatjs/neat.js");require.alias("optimuslime-neatjs/evolution/iec.js","optimuslime-win-neat/deps/neatjs/evolution/iec.js");require.alias("optimuslime-neatjs/evolution/multiobjective.js","optimuslime-win-neat/deps/neatjs/evolution/multiobjective.js");require.alias("optimuslime-neatjs/evolution/novelty.js","optimuslime-win-neat/deps/neatjs/evolution/novelty.js");require.alias("optimuslime-neatjs/genome/neatConnection.js","optimuslime-win-neat/deps/neatjs/genome/neatConnection.js");require.alias("optimuslime-neatjs/genome/neatNode.js","optimuslime-win-neat/deps/neatjs/genome/neatNode.js");require.alias("optimuslime-neatjs/genome/neatGenome.js","optimuslime-win-neat/deps/neatjs/genome/neatGenome.js");require.alias("optimuslime-neatjs/neatHelp/neatDecoder.js","optimuslime-win-neat/deps/neatjs/neatHelp/neatDecoder.js");require.alias("optimuslime-neatjs/neatHelp/neatHelp.js","optimuslime-win-neat/deps/neatjs/neatHelp/neatHelp.js");require.alias("optimuslime-neatjs/neatHelp/neatParameters.js","optimuslime-win-neat/deps/neatjs/neatHelp/neatParameters.js");require.alias("optimuslime-neatjs/types/nodeType.js","optimuslime-win-neat/deps/neatjs/types/nodeType.js");require.alias("optimuslime-neatjs/utility/genomeSharpToJS.js","optimuslime-win-neat/deps/neatjs/utility/genomeSharpToJS.js");require.alias("optimuslime-neatjs/neat.js","optimuslime-win-neat/deps/neatjs/index.js");require.alias("optimuslime-cppnjs/cppn.js","optimuslime-neatjs/deps/cppnjs/cppn.js");require.alias("optimuslime-cppnjs/activationFunctions/cppnActivationFactory.js","optimuslime-neatjs/deps/cppnjs/activationFunctions/cppnActivationFactory.js");require.alias("optimuslime-cppnjs/activationFunctions/cppnActivationFunctions.js","optimuslime-neatjs/deps/cppnjs/activationFunctions/cppnActivationFunctions.js");require.alias("optimuslime-cppnjs/networks/cppnConnection.js","optimuslime-neatjs/deps/cppnjs/networks/cppnConnection.js");require.alias("optimuslime-cppnjs/networks/cppnNode.js","optimuslime-neatjs/deps/cppnjs/networks/cppnNode.js");require.alias("optimuslime-cppnjs/networks/cppn.js","optimuslime-neatjs/deps/cppnjs/networks/cppn.js");require.alias("optimuslime-cppnjs/types/nodeType.js","optimuslime-neatjs/deps/cppnjs/types/nodeType.js");require.alias("optimuslime-cppnjs/utility/utilities.js","optimuslime-neatjs/deps/cppnjs/utility/utilities.js");require.alias("optimuslime-cppnjs/extras/adaptableAdditions.js","optimuslime-neatjs/deps/cppnjs/extras/adaptableAdditions.js");require.alias("optimuslime-cppnjs/extras/pureCPPNAdditions.js","optimuslime-neatjs/deps/cppnjs/extras/pureCPPNAdditions.js");require.alias("optimuslime-cppnjs/extras/gpuAdditions.js","optimuslime-neatjs/deps/cppnjs/extras/gpuAdditions.js");require.alias("optimuslime-cppnjs/cppn.js","optimuslime-neatjs/deps/cppnjs/index.js");require.alias("optimuslime-cppnjs/cppn.js","optimuslime-cppnjs/index.js");require.alias("optimuslime-win-utils/winutils.js","optimuslime-neatjs/deps/win-utils/winutils.js");require.alias("optimuslime-win-utils/uuid/cuid.js","optimuslime-neatjs/deps/win-utils/uuid/cuid.js");require.alias("optimuslime-win-utils/math/winmath.js","optimuslime-neatjs/deps/win-utils/math/winmath.js");require.alias("optimuslime-win-utils/winutils.js","optimuslime-neatjs/deps/win-utils/index.js");require.alias("optimuslime-win-utils/winutils.js","optimuslime-win-utils/index.js");require.alias("optimuslime-neatjs/neat.js","optimuslime-neatjs/index.js");require.alias("optimuslime-win-utils/winutils.js","optimuslime-win-neat/deps/win-utils/winutils.js");require.alias("optimuslime-win-utils/uuid/cuid.js","optimuslime-win-neat/deps/win-utils/uuid/cuid.js");require.alias("optimuslime-win-utils/math/winmath.js","optimuslime-win-neat/deps/win-utils/math/winmath.js");require.alias("optimuslime-win-utils/winutils.js","optimuslime-win-neat/deps/win-utils/index.js");require.alias("optimuslime-win-utils/winutils.js","optimuslime-win-utils/index.js");require.alias("optimuslime-win-neat/lib/win-neat.js","optimuslime-win-neat/index.js");require.alias("optimuslime-win-backbone/lib/win-backbone.js","win-Picbreeder/deps/win-backbone/lib/win-backbone.js");require.alias("optimuslime-win-backbone/lib/win-backbone.js","win-Picbreeder/deps/win-backbone/index.js");require.alias("optimuslime-win-backbone/lib/win-backbone.js","win-backbone/index.js");require.alias("component-emitter/index.js","optimuslime-win-backbone/deps/emitter/index.js");require.alias("optimuslime-win-backbone/lib/win-backbone.js","optimuslime-win-backbone/index.js");require.alias("optimuslime-win-schema/lib/addSchema.js","win-Picbreeder/deps/win-schema/lib/addSchema.js");require.alias("optimuslime-win-schema/lib/schemaSpec.js","win-Picbreeder/deps/win-schema/lib/schemaSpec.js");require.alias("optimuslime-win-schema/lib/win-schema.js","win-Picbreeder/deps/win-schema/lib/win-schema.js");require.alias("optimuslime-win-schema/lib/win-schema.js","win-Picbreeder/deps/win-schema/index.js");require.alias("optimuslime-win-schema/lib/win-schema.js","win-schema/index.js");require.alias("optimuslime-traverse/index.js","optimuslime-win-schema/deps/optimuslime-traverse/index.js");require.alias("optimuslime-traverse/index.js","optimuslime-win-schema/deps/optimuslime-traverse/index.js");require.alias("optimuslime-traverse/index.js","optimuslime-traverse/index.js");require.alias("geraintluff-tv4/lang/de.js","optimuslime-win-schema/deps/tv4/lang/de.js");require.alias("geraintluff-tv4/tv4.js","optimuslime-win-schema/deps/tv4/tv4.js");require.alias("geraintluff-tv4/tv4.js","optimuslime-win-schema/deps/tv4/index.js");require.alias("geraintluff-tv4/tv4.js","geraintluff-tv4/index.js");require.alias("optimuslime-win-schema/lib/win-schema.js","optimuslime-win-schema/index.js");require.alias("optimuslime-win-gen/lib/wingen.js","win-Picbreeder/deps/win-gen/lib/wingen.js");require.alias("optimuslime-win-gen/lib/module/backbone.js","win-Picbreeder/deps/win-gen/lib/module/backbone.js");require.alias("optimuslime-win-gen/lib/wingen.js","win-Picbreeder/deps/win-gen/index.js");require.alias("optimuslime-win-gen/lib/wingen.js","win-gen/index.js");require.alias("techjacker-q/q.js","optimuslime-win-gen/deps/q/q.js");require.alias("techjacker-q/q.js","optimuslime-win-gen/deps/q/index.js");require.alias("techjacker-q/q.js","techjacker-q/index.js");require.alias("optimuslime-win-schema/lib/addSchema.js","optimuslime-win-gen/deps/win-schema/lib/addSchema.js");require.alias("optimuslime-win-schema/lib/schemaSpec.js","optimuslime-win-gen/deps/win-schema/lib/schemaSpec.js");require.alias("optimuslime-win-schema/lib/win-schema.js","optimuslime-win-gen/deps/win-schema/lib/win-schema.js");require.alias("optimuslime-win-schema/lib/win-schema.js","optimuslime-win-gen/deps/win-schema/index.js");require.alias("optimuslime-traverse/index.js","optimuslime-win-schema/deps/optimuslime-traverse/index.js");require.alias("optimuslime-traverse/index.js","optimuslime-win-schema/deps/optimuslime-traverse/index.js");require.alias("optimuslime-traverse/index.js","optimuslime-traverse/index.js");require.alias("geraintluff-tv4/lang/de.js","optimuslime-win-schema/deps/tv4/lang/de.js");require.alias("geraintluff-tv4/tv4.js","optimuslime-win-schema/deps/tv4/tv4.js");require.alias("geraintluff-tv4/tv4.js","optimuslime-win-schema/deps/tv4/index.js");require.alias("geraintluff-tv4/tv4.js","geraintluff-tv4/index.js");require.alias("optimuslime-win-schema/lib/win-schema.js","optimuslime-win-schema/index.js");require.alias("optimuslime-traverse/index.js","optimuslime-win-gen/deps/optimuslime-traverse/index.js");require.alias("optimuslime-traverse/index.js","optimuslime-win-gen/deps/optimuslime-traverse/index.js");require.alias("optimuslime-traverse/index.js","optimuslime-traverse/index.js");require.alias("optimuslime-win-utils/winutils.js","optimuslime-win-gen/deps/win-utils/winutils.js");require.alias("optimuslime-win-utils/uuid/cuid.js","optimuslime-win-gen/deps/win-utils/uuid/cuid.js");require.alias("optimuslime-win-utils/math/winmath.js","optimuslime-win-gen/deps/win-utils/math/winmath.js");require.alias("optimuslime-win-utils/winutils.js","optimuslime-win-gen/deps/win-utils/index.js");require.alias("optimuslime-win-utils/winutils.js","optimuslime-win-utils/index.js");require.alias("optimuslime-win-gen/lib/wingen.js","optimuslime-win-gen/index.js");require.alias("optimuslime-win-utils/winutils.js","win-Picbreeder/deps/win-utils/winutils.js");require.alias("optimuslime-win-utils/uuid/cuid.js","win-Picbreeder/deps/win-utils/uuid/cuid.js");require.alias("optimuslime-win-utils/math/winmath.js","win-Picbreeder/deps/win-utils/math/winmath.js");require.alias("optimuslime-win-utils/winutils.js","win-Picbreeder/deps/win-utils/index.js");require.alias("optimuslime-win-utils/winutils.js","win-utils/index.js");require.alias("optimuslime-win-utils/winutils.js","optimuslime-win-utils/index.js");require.alias("cppn-additions/cppn-additions.js","win-Picbreeder/deps/cppn-additions/cppn-additions.js");require.alias("cppn-additions/cppn-additions.js","win-Picbreeder/deps/cppn-additions/index.js");require.alias("cppn-additions/cppn-additions.js","cppn-additions/index.js");require.alias("optimuslime-cppnjs/cppn.js","cppn-additions/deps/cppnjs/cppn.js");require.alias("optimuslime-cppnjs/activationFunctions/cppnActivationFactory.js","cppn-additions/deps/cppnjs/activationFunctions/cppnActivationFactory.js");require.alias("optimuslime-cppnjs/activationFunctions/cppnActivationFunctions.js","cppn-additions/deps/cppnjs/activationFunctions/cppnActivationFunctions.js");require.alias("optimuslime-cppnjs/networks/cppnConnection.js","cppn-additions/deps/cppnjs/networks/cppnConnection.js");require.alias("optimuslime-cppnjs/networks/cppnNode.js","cppn-additions/deps/cppnjs/networks/cppnNode.js");require.alias("optimuslime-cppnjs/networks/cppn.js","cppn-additions/deps/cppnjs/networks/cppn.js");require.alias("optimuslime-cppnjs/types/nodeType.js","cppn-additions/deps/cppnjs/types/nodeType.js");require.alias("optimuslime-cppnjs/utility/utilities.js","cppn-additions/deps/cppnjs/utility/utilities.js");require.alias("optimuslime-cppnjs/extras/adaptableAdditions.js","cppn-additions/deps/cppnjs/extras/adaptableAdditions.js");require.alias("optimuslime-cppnjs/extras/pureCPPNAdditions.js","cppn-additions/deps/cppnjs/extras/pureCPPNAdditions.js");require.alias("optimuslime-cppnjs/extras/gpuAdditions.js","cppn-additions/deps/cppnjs/extras/gpuAdditions.js");require.alias("optimuslime-cppnjs/cppn.js","cppn-additions/deps/cppnjs/index.js");require.alias("optimuslime-cppnjs/cppn.js","optimuslime-cppnjs/index.js");require.alias("cppn-additions/cppn-additions.js","cppn-additions/index.js");require.alias("win-setup/win-setup.js","win-Picbreeder/deps/win-setup/win-setup.js");require.alias("win-setup/win-setup.js","win-Picbreeder/deps/win-setup/index.js");require.alias("win-setup/win-setup.js","win-setup/index.js");require.alias("optimuslime-win-backbone/lib/win-backbone.js","win-setup/deps/win-backbone/lib/win-backbone.js");require.alias("optimuslime-win-backbone/lib/win-backbone.js","win-setup/deps/win-backbone/index.js");require.alias("component-emitter/index.js","optimuslime-win-backbone/deps/emitter/index.js");require.alias("optimuslime-win-backbone/lib/win-backbone.js","optimuslime-win-backbone/index.js");require.alias("techjacker-q/q.js","win-setup/deps/q/q.js");require.alias("techjacker-q/q.js","win-setup/deps/q/index.js");require.alias("techjacker-q/q.js","techjacker-q/index.js");require.alias("win-setup/win-setup.js","win-setup/index.js");require.alias("pbencoding/picbreeder-encoding.js","win-Picbreeder/deps/pbEncoding/picbreeder-encoding.js");require.alias("pbencoding/picbreederSchema.js","win-Picbreeder/deps/pbEncoding/picbreederSchema.js");require.alias("pbencoding/picbreeder-encoding.js","win-Picbreeder/deps/pbEncoding/index.js");require.alias("pbencoding/picbreeder-encoding.js","pbEncoding/index.js");require.alias("pbencoding/picbreeder-encoding.js","pbencoding/index.js");require.alias("win-flexiec/win-flexIEC.js","win-Picbreeder/deps/win-flexIEC/win-flexIEC.js");require.alias("win-flexiec/win-flexIEC.js","win-Picbreeder/deps/win-flexIEC/index.js");require.alias("win-flexiec/win-flexIEC.js","win-flexIEC/index.js");require.alias("optimuslime-win-iec/lib/win-iec.js","win-flexiec/deps/win-iec/lib/win-iec.js");require.alias("optimuslime-win-iec/lib/win-iec.js","win-flexiec/deps/win-iec/index.js");require.alias("optimuslime-win-iec/lib/win-iec.js","optimuslime-win-iec/index.js");require.alias("component-emitter/index.js","win-flexiec/deps/emitter/index.js");require.alias("flexiec/main.js","win-flexiec/deps/flexIEC/main.js");require.alias("flexiec/main.js","win-flexiec/deps/flexIEC/index.js");require.alias("component-events/index.js","flexiec/deps/events/index.js");require.alias("component-event/index.js","component-events/deps/event/index.js");require.alias("component-delegate/index.js","component-events/deps/delegate/index.js");require.alias("discore-closest/index.js","component-delegate/deps/closest/index.js");require.alias("discore-closest/index.js","component-delegate/deps/closest/index.js");require.alias("component-matches-selector/index.js","discore-closest/deps/matches-selector/index.js");require.alias("component-query/index.js","component-matches-selector/deps/query/index.js");require.alias("discore-closest/index.js","discore-closest/index.js");require.alias("component-event/index.js","component-delegate/deps/event/index.js");require.alias("component-classes/index.js","flexiec/deps/classes/index.js");require.alias("component-indexof/index.js","component-classes/deps/indexof/index.js");require.alias("ramitos-resize/src/resize.js","flexiec/deps/resize/src/resize.js");require.alias("ramitos-resize/src/resize.js","flexiec/deps/resize/index.js");require.alias("ramitos-resize/src/resize.js","ramitos-resize/index.js");require.alias("optimuslime-el.js/el.js","flexiec/deps/el.js/el.js");require.alias("optimuslime-el.js/el.js","flexiec/deps/el.js/index.js");require.alias("optimuslime-el.js/el.js","optimuslime-el.js/index.js");require.alias("component-emitter/index.js","flexiec/deps/emitter/index.js");require.alias("flexstatic/main.js","flexiec/deps/flexstatic/main.js");require.alias("flexstatic/main.js","flexiec/deps/flexstatic/index.js");require.alias("optimuslime-el.js/el.js","flexstatic/deps/el.js/el.js");require.alias("optimuslime-el.js/el.js","flexstatic/deps/el.js/index.js");require.alias("optimuslime-el.js/el.js","optimuslime-el.js/index.js");require.alias("component-emitter/index.js","flexstatic/deps/emitter/index.js");require.alias("flexstatic/main.js","flexstatic/index.js");require.alias("flexparents/main.js","flexiec/deps/flexparents/main.js");require.alias("flexparents/main.js","flexiec/deps/flexparents/index.js");require.alias("ramitos-resize/src/resize.js","flexparents/deps/resize/src/resize.js");require.alias("ramitos-resize/src/resize.js","flexparents/deps/resize/index.js");require.alias("ramitos-resize/src/resize.js","ramitos-resize/index.js");require.alias("component-emitter/index.js","flexparents/deps/emitter/index.js");require.alias("flexparents/main.js","flexparents/index.js");require.alias("flexiec/main.js","flexiec/index.js");require.alias("win-flexiec/win-flexIEC.js","win-flexiec/index.js");require.alias("flexstatic/main.js","win-Picbreeder/deps/flexstatic/main.js");require.alias("flexstatic/main.js","win-Picbreeder/deps/flexstatic/index.js");require.alias("flexstatic/main.js","flexstatic/index.js");require.alias("optimuslime-el.js/el.js","flexstatic/deps/el.js/el.js");require.alias("optimuslime-el.js/el.js","flexstatic/deps/el.js/index.js");require.alias("optimuslime-el.js/el.js","optimuslime-el.js/index.js");require.alias("component-emitter/index.js","flexstatic/deps/emitter/index.js");require.alias("flexstatic/main.js","flexstatic/index.js");require.alias("flexparents/main.js","win-Picbreeder/deps/flexparents/main.js");require.alias("flexparents/main.js","win-Picbreeder/deps/flexparents/index.js");require.alias("flexparents/main.js","flexparents/index.js");require.alias("ramitos-resize/src/resize.js","flexparents/deps/resize/src/resize.js");require.alias("ramitos-resize/src/resize.js","flexparents/deps/resize/index.js");require.alias("ramitos-resize/src/resize.js","ramitos-resize/index.js");require.alias("component-emitter/index.js","flexparents/deps/emitter/index.js");require.alias("flexparents/main.js","flexparents/index.js");require.alias("flexiec/main.js","win-Picbreeder/deps/flexIEC/main.js");require.alias("flexiec/main.js","win-Picbreeder/deps/flexIEC/index.js");require.alias("flexiec/main.js","flexIEC/index.js");require.alias("component-events/index.js","flexiec/deps/events/index.js");require.alias("component-event/index.js","component-events/deps/event/index.js");require.alias("component-delegate/index.js","component-events/deps/delegate/index.js");require.alias("discore-closest/index.js","component-delegate/deps/closest/index.js");require.alias("discore-closest/index.js","component-delegate/deps/closest/index.js");require.alias("component-matches-selector/index.js","discore-closest/deps/matches-selector/index.js");require.alias("component-query/index.js","component-matches-selector/deps/query/index.js");require.alias("discore-closest/index.js","discore-closest/index.js");require.alias("component-event/index.js","component-delegate/deps/event/index.js");require.alias("component-classes/index.js","flexiec/deps/classes/index.js");require.alias("component-indexof/index.js","component-classes/deps/indexof/index.js");require.alias("ramitos-resize/src/resize.js","flexiec/deps/resize/src/resize.js");require.alias("ramitos-resize/src/resize.js","flexiec/deps/resize/index.js");require.alias("ramitos-resize/src/resize.js","ramitos-resize/index.js");require.alias("optimuslime-el.js/el.js","flexiec/deps/el.js/el.js");require.alias("optimuslime-el.js/el.js","flexiec/deps/el.js/index.js");require.alias("optimuslime-el.js/el.js","optimuslime-el.js/index.js");require.alias("component-emitter/index.js","flexiec/deps/emitter/index.js");require.alias("flexstatic/main.js","flexiec/deps/flexstatic/main.js");require.alias("flexstatic/main.js","flexiec/deps/flexstatic/index.js");require.alias("optimuslime-el.js/el.js","flexstatic/deps/el.js/el.js");require.alias("optimuslime-el.js/el.js","flexstatic/deps/el.js/index.js");require.alias("optimuslime-el.js/el.js","optimuslime-el.js/index.js");require.alias("component-emitter/index.js","flexstatic/deps/emitter/index.js");require.alias("flexstatic/main.js","flexstatic/index.js");require.alias("flexparents/main.js","flexiec/deps/flexparents/main.js");require.alias("flexparents/main.js","flexiec/deps/flexparents/index.js");require.alias("ramitos-resize/src/resize.js","flexparents/deps/resize/src/resize.js");require.alias("ramitos-resize/src/resize.js","flexparents/deps/resize/index.js");require.alias("ramitos-resize/src/resize.js","ramitos-resize/index.js");require.alias("component-emitter/index.js","flexparents/deps/emitter/index.js");require.alias("flexparents/main.js","flexparents/index.js");require.alias("flexiec/main.js","flexiec/index.js");require.alias("win-Picbreeder/win-Picbreeder.js","win-Picbreeder/index.js")